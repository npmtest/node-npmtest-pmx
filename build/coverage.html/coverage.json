{"/home/travis/build/npmtest/node-npmtest-pmx/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_pmx */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-pmx/lib.npmtest_pmx.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/lib.npmtest_pmx.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":48}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":54}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_pmx */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_pmx = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_pmx = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-pmx/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":47}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":61},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-pmx && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_pmx */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_pmx","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_pmx.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_pmx.rollup.js'] =","            local.assetsDict['/assets.npmtest_pmx.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_pmx.__dirname + '/lib.npmtest_pmx.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/index.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}}},"branchMap":{},"code":["","module.exports = exports = require(\"./lib/pmx\");",""],"l":{"2":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/pmx.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/pmx.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":1,"59":0,"60":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":33,"loc":{"start":{"line":33,"column":11},"end":{"line":33,"column":26}}},"2":{"name":"(anonymous_2)","line":93,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":36}}},"3":{"name":"(anonymous_3)","line":121,"loc":{"start":{"line":121,"column":14},"end":{"line":121,"column":25}}},"4":{"name":"(anonymous_4)","line":125,"loc":{"start":{"line":125,"column":13},"end":{"line":125,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":51}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":52}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":18}},"12":{"start":{"line":20,"column":0},"end":{"line":20,"column":26}},"13":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":26}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}},"16":{"start":{"line":24,"column":0},"end":{"line":24,"column":33}},"17":{"start":{"line":25,"column":0},"end":{"line":25,"column":25}},"18":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}},"19":{"start":{"line":27,"column":0},"end":{"line":27,"column":29}},"20":{"start":{"line":28,"column":0},"end":{"line":28,"column":31}},"21":{"start":{"line":31,"column":0},"end":{"line":31,"column":45}},"22":{"start":{"line":33,"column":0},"end":{"line":91,"column":2}},"23":{"start":{"line":34,"column":2},"end":{"line":34,"column":23}},"24":{"start":{"line":34,"column":13},"end":{"line":34,"column":23}},"25":{"start":{"line":36,"column":2},"end":{"line":60,"column":11}},"26":{"start":{"line":62,"column":2},"end":{"line":62,"column":34}},"27":{"start":{"line":63,"column":2},"end":{"line":63,"column":24}},"28":{"start":{"line":65,"column":2},"end":{"line":66,"column":21}},"29":{"start":{"line":66,"column":4},"end":{"line":66,"column":21}},"30":{"start":{"line":67,"column":2},"end":{"line":68,"column":23}},"31":{"start":{"line":68,"column":4},"end":{"line":68,"column":23}},"32":{"start":{"line":70,"column":2},"end":{"line":71,"column":27}},"33":{"start":{"line":71,"column":4},"end":{"line":71,"column":27}},"34":{"start":{"line":72,"column":2},"end":{"line":73,"column":19}},"35":{"start":{"line":73,"column":4},"end":{"line":73,"column":19}},"36":{"start":{"line":75,"column":2},"end":{"line":75,"column":21}},"37":{"start":{"line":77,"column":2},"end":{"line":78,"column":31}},"38":{"start":{"line":78,"column":4},"end":{"line":78,"column":31}},"39":{"start":{"line":80,"column":2},"end":{"line":83,"column":3}},"40":{"start":{"line":82,"column":4},"end":{"line":82,"column":42}},"41":{"start":{"line":85,"column":2},"end":{"line":87,"column":3}},"42":{"start":{"line":89,"column":2},"end":{"line":89,"column":24}},"43":{"start":{"line":90,"column":2},"end":{"line":90,"column":14}},"44":{"start":{"line":93,"column":0},"end":{"line":119,"column":2}},"45":{"start":{"line":94,"column":2},"end":{"line":94,"column":23}},"46":{"start":{"line":94,"column":13},"end":{"line":94,"column":23}},"47":{"start":{"line":96,"column":2},"end":{"line":99,"column":11}},"48":{"start":{"line":101,"column":2},"end":{"line":105,"column":18}},"49":{"start":{"line":107,"column":2},"end":{"line":107,"column":23}},"50":{"start":{"line":108,"column":2},"end":{"line":108,"column":34}},"51":{"start":{"line":111,"column":2},"end":{"line":111,"column":17}},"52":{"start":{"line":113,"column":2},"end":{"line":113,"column":24}},"53":{"start":{"line":115,"column":2},"end":{"line":116,"column":26}},"54":{"start":{"line":116,"column":4},"end":{"line":116,"column":26}},"55":{"start":{"line":118,"column":2},"end":{"line":118,"column":14}},"56":{"start":{"line":121,"column":0},"end":{"line":123,"column":2}},"57":{"start":{"line":122,"column":2},"end":{"line":122,"column":24}},"58":{"start":{"line":125,"column":0},"end":{"line":127,"column":2}},"59":{"start":{"line":126,"column":2},"end":{"line":126,"column":21}},"60":{"start":{"line":132,"column":0},"end":{"line":132,"column":21}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":67,"column":2}},{"start":{"line":67,"column":2},"end":{"line":67,"column":2}}]},"4":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"5":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"7":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":2},"end":{"line":80,"column":2}},{"start":{"line":80,"column":2},"end":{"line":80,"column":2}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]},"9":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":2},"end":{"line":94,"column":2}},{"start":{"line":94,"column":2},"end":{"line":94,"column":2}}]},"10":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":2},"end":{"line":115,"column":2}},{"start":{"line":115,"column":2},"end":{"line":115,"column":2}}]},"11":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":6},"end":{"line":115,"column":8}},{"start":{"line":115,"column":12},"end":{"line":115,"column":36}}]}},"code":["","var Events      = require('./events.js');","var Actions     = require('./actions.js');","var Notify      = require('./notify.js');","var Transaction = require('./transaction.js');","var Network     = require('./network.js');","var Monitor     = require('./monitor.js');","var Profiling   = require('./probes/profiling.js');","var Probe       = require('./Probe.js');","","var Configuration   = require('./configuration.js');","","var util        = require('util');","","var PMX      = {};","","/**"," * Flatten API"," */","util._extend(PMX, Events);","util._extend(PMX, Actions);","util._extend(PMX, Notify);","util._extend(PMX, Monitor);","util._extend(PMX, Configuration);","util._extend(PMX, Probe);","util._extend(PMX, Network);","util._extend(PMX, Profiling);","util._extend(PMX, Transaction);","","// Grab defaut configuration","PMX._pmx_conf = Configuration.init({}, true);","","PMX.init = function(opts) {","  if (!opts) opts = {};","","  opts = util._extend({","    default_actions : true,","    transactions  : false,","    http          : true,","    http_latency  : 200,","    http_code     : 500,","    ignore_routes : [],","    profiling     : true,","    errors        : true,","    // By default if you add alert subfield in custom","    // it's going to be enabled","    alert_enabled : true,","    custom_probes : true,","    network       : false,","    ports         : false,","","    // VXX options","    // ignoreFilter.url is aliased to ignore_routes","    ignoreFilter: {","      'url': [],","      'method': ['OPTIONS']","    },","    // 'express', 'hapi', 'http', 'restify'","    excludedHooks: []","  }, opts);","","  opts = Configuration.init(opts);","  this._pmx_conf = opts;","","  if (opts.ports)","    PMX.catchPorts();","  if (opts.network)","    PMX.catchTraffic();","","  if (opts.transactions)","    PMX.tracing(PMX, opts);","  if (opts.http)","    PMX.http(opts);","","  PMX.catchAll(opts);","","  if (opts.profiling)","    Profiling.v8Profiling(PMX);","","  if (opts.custom_probes == true) {","    // Event loop monitoring","    require('./probes/pacemaker.js')(PMX);","  }","","  if (opts.default_actions == true) {","    //require('./actions/default.js')(PMX);","  }","","  opts.isModule = false;","  return this;","};","","PMX.initModule = function(opts, cb) {","  if (!opts) opts = {};","","  opts = util._extend({","    alert_enabled    : true,","    widget           : {}","  }, opts);","","  opts.widget = util._extend({","    type : 'generic',","    logo : 'https://app.keymetrics.io/img/logo/keymetrics-300.png',","    theme            : ['#111111', '#1B2228', '#807C7C', '#807C7C']","  }, opts.widget);","","  opts.isModule = true;","  opts = Configuration.init(opts);","","  // Force error catching","  PMX.catchAll();","","  this._pmx_conf = opts;","","  if (cb && typeof(cb) == 'function')","    return cb(null, opts);","","  return opts;","};","","PMX.getConf = function() {","  return this._pmx_conf;","};","","PMX.getEnv = function() {","  return process.env;","};","","/**"," * Export"," */","module.exports = PMX;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"13":1,"15":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"31":1,"33":1,"34":0,"36":0,"62":0,"63":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"72":0,"73":0,"75":0,"77":0,"78":0,"80":0,"82":0,"85":0,"89":0,"90":0,"93":1,"94":0,"96":0,"101":0,"107":0,"108":0,"111":0,"113":0,"115":0,"116":0,"118":0,"121":1,"122":0,"125":1,"126":0,"132":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/events.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/events.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":35}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":47}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":19}},"6":{"start":{"line":9,"column":0},"end":{"line":30,"column":2}},"7":{"start":{"line":10,"column":2},"end":{"line":11,"column":55}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":55}},"9":{"start":{"line":12,"column":2},"end":{"line":13,"column":55}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":55}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":24}},"12":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":47}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":29}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":29}},"16":{"start":{"line":25,"column":2},"end":{"line":28,"column":11}},"17":{"start":{"line":29,"column":2},"end":{"line":29,"column":15}},"18":{"start":{"line":32,"column":0},"end":{"line":32,"column":24}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]}},"code":["","var debug     = require('debug')('axm:events');","var Transport = require('./utils/transport.js');","var Common    = require('./common.js');","var stringify = require('json-stringify-safe');","","var Events    = {};","","Events.emit = function(name, data) {","  if (!name)","    return console.error('[AXM] emit.name is missing');","  if (!data)","    return console.error('[AXM] emit.data is missing');","","  var inflight_obj = {};","","  if (typeof(data) == 'object')","    inflight_obj = JSON.parse(stringify(data));","  else {","    inflight_obj.data = data;","  }","","  inflight_obj.__name = name;","","  Transport.send({","    type : 'human:event',","    data : inflight_obj","  }, true);","  return false;","};","","module.exports = Events;",""],"l":{"2":1,"3":1,"4":1,"5":1,"7":1,"9":1,"10":0,"11":0,"12":0,"13":0,"15":0,"17":0,"18":0,"20":0,"23":0,"25":0,"29":0,"32":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/transport.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/transport.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"ipcSend","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}}},"2":{"name":"(anonymous_2)","line":30,"loc":{"start":{"line":30,"column":17},"end":{"line":30,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"4":{"start":{"line":7,"column":0},"end":{"line":28,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":12,"column":22}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":22}},"7":{"start":{"line":14,"column":2},"end":{"line":18,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":27}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":17}},"11":{"start":{"line":21,"column":2},"end":{"line":27,"column":3}},"12":{"start":{"line":22,"column":4},"end":{"line":22,"column":46}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":56}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":32}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}},"16":{"start":{"line":30,"column":0},"end":{"line":34,"column":2}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":28}},"18":{"start":{"line":31,"column":14},"end":{"line":31,"column":28}},"19":{"start":{"line":33,"column":2},"end":{"line":33,"column":23}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"3":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":18},"end":{"line":25,"column":25}},{"start":{"line":25,"column":29},"end":{"line":25,"column":30}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]}},"code":["","var debug     = require('debug')('axm:transport');","var stringify = require('json-stringify-safe');","","var Transport = module.exports = {};","","function ipcSend(args, print) {","  /**","   * For debug purpose","   */","  if (process.env.MODULE_DEBUG)","    console.log(args);","","  if (!process.send) {","    var output = args.data;","    delete output.__name;","    return false;","  }","","","  try {","    process.send(JSON.parse(stringify(args)));","  } catch(e) {","    console.error('Process disconnected from parent !');","    console.error(e.stack || e);","    process.exit(1);","  }","};","","Transport.send = function(args, print) {","  if (!print) print = false;","","  ipcSend(args, print);","};",""],"l":{"2":1,"3":1,"5":1,"7":1,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"21":0,"22":0,"24":0,"25":0,"26":0,"30":1,"31":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/common.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/common.js","s":{"1":1,"2":1,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"getDate","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":36}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"2":{"start":{"line":4,"column":0},"end":{"line":6,"column":2}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":39}}},"branchMap":{},"code":["","var Common = module.exports =  {};","","Common.getDate = function getDate() {","  return Math.round(Date.now() / 1000);","};",""],"l":{"2":1,"4":1,"5":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/actions.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/actions.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0,0],"20":[0,0],"21":[0,0,0],"22":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":49}}},"2":{"name":"reply","line":34,"loc":{"start":{"line":34,"column":2},"end":{"line":34,"column":23}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":24},"end":{"line":49,"column":39}}},"4":{"name":"(anonymous_4)","line":75,"loc":{"start":{"line":75,"column":23},"end":{"line":75,"column":49}}},"5":{"name":"(anonymous_5)","line":96,"loc":{"start":{"line":96,"column":24},"end":{"line":96,"column":39}}},"6":{"name":"(anonymous_6)","line":104,"loc":{"start":{"line":104,"column":15},"end":{"line":104,"column":28}}},"7":{"name":"(anonymous_7)","line":114,"loc":{"start":{"line":114,"column":16},"end":{"line":114,"column":29}}},"8":{"name":"(anonymous_8)","line":124,"loc":{"start":{"line":124,"column":14},"end":{"line":124,"column":27}}},"9":{"name":"(anonymous_9)","line":138,"loc":{"start":{"line":138,"column":20},"end":{"line":138,"column":34}}},"10":{"name":"(anonymous_10)","line":140,"loc":{"start":{"line":140,"column":19},"end":{"line":140,"column":30}}},"11":{"name":"(anonymous_11)","line":145,"loc":{"start":{"line":145,"column":12},"end":{"line":145,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":0},"end":{"line":73,"column":2}},"7":{"start":{"line":9,"column":2},"end":{"line":12,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":14}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":16}},"10":{"start":{"line":14,"column":2},"end":{"line":15,"column":64}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":64}},"12":{"start":{"line":16,"column":2},"end":{"line":17,"column":55}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":55}},"14":{"start":{"line":19,"column":2},"end":{"line":22,"column":3}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":44}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"17":{"start":{"line":25,"column":2},"end":{"line":32,"column":5}},"18":{"start":{"line":34,"column":2},"end":{"line":47,"column":3}},"19":{"start":{"line":35,"column":4},"end":{"line":38,"column":5}},"20":{"start":{"line":36,"column":6},"end":{"line":36,"column":33}},"21":{"start":{"line":37,"column":6},"end":{"line":37,"column":25}},"22":{"start":{"line":40,"column":4},"end":{"line":46,"column":7}},"23":{"start":{"line":49,"column":2},"end":{"line":72,"column":5}},"24":{"start":{"line":50,"column":4},"end":{"line":50,"column":28}},"25":{"start":{"line":50,"column":15},"end":{"line":50,"column":28}},"26":{"start":{"line":53,"column":4},"end":{"line":54,"column":27}},"27":{"start":{"line":54,"column":6},"end":{"line":54,"column":27}},"28":{"start":{"line":57,"column":4},"end":{"line":58,"column":23}},"29":{"start":{"line":58,"column":6},"end":{"line":58,"column":23}},"30":{"start":{"line":63,"column":4},"end":{"line":64,"column":23}},"31":{"start":{"line":64,"column":6},"end":{"line":64,"column":23}},"32":{"start":{"line":70,"column":4},"end":{"line":71,"column":34}},"33":{"start":{"line":71,"column":6},"end":{"line":71,"column":34}},"34":{"start":{"line":75,"column":0},"end":{"line":150,"column":2}},"35":{"start":{"line":77,"column":2},"end":{"line":78,"column":64}},"36":{"start":{"line":78,"column":4},"end":{"line":78,"column":64}},"37":{"start":{"line":79,"column":2},"end":{"line":80,"column":54}},"38":{"start":{"line":80,"column":4},"end":{"line":80,"column":54}},"39":{"start":{"line":82,"column":2},"end":{"line":85,"column":3}},"40":{"start":{"line":83,"column":4},"end":{"line":83,"column":44}},"41":{"start":{"line":84,"column":4},"end":{"line":84,"column":17}},"42":{"start":{"line":88,"column":2},"end":{"line":94,"column":5}},"43":{"start":{"line":96,"column":2},"end":{"line":149,"column":5}},"44":{"start":{"line":97,"column":4},"end":{"line":100,"column":19}},"45":{"start":{"line":100,"column":6},"end":{"line":100,"column":19}},"46":{"start":{"line":102,"column":4},"end":{"line":148,"column":5}},"47":{"start":{"line":103,"column":6},"end":{"line":134,"column":8}},"48":{"start":{"line":105,"column":10},"end":{"line":112,"column":13}},"49":{"start":{"line":115,"column":10},"end":{"line":122,"column":13}},"50":{"start":{"line":125,"column":10},"end":{"line":132,"column":13}},"51":{"start":{"line":136,"column":6},"end":{"line":136,"column":30}},"52":{"start":{"line":138,"column":6},"end":{"line":143,"column":9}},"53":{"start":{"line":139,"column":8},"end":{"line":139,"column":51}},"54":{"start":{"line":140,"column":8},"end":{"line":142,"column":16}},"55":{"start":{"line":141,"column":10},"end":{"line":141,"column":26}},"56":{"start":{"line":145,"column":6},"end":{"line":147,"column":9}},"57":{"start":{"line":146,"column":8},"end":{"line":146,"column":35}},"58":{"start":{"line":152,"column":0},"end":{"line":152,"column":25}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"7":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":53,"column":4}},{"start":{"line":53,"column":4},"end":{"line":53,"column":4}}]},"8":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":23}},{"start":{"line":53,"column":27},"end":{"line":53,"column":52}},{"start":{"line":53,"column":56},"end":{"line":53,"column":76}}]},"9":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"10":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":23}},{"start":{"line":57,"column":27},"end":{"line":57,"column":52}},{"start":{"line":57,"column":56},"end":{"line":57,"column":80}}]},"11":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":4}},{"start":{"line":63,"column":4},"end":{"line":63,"column":4}}]},"12":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":33}},{"start":{"line":63,"column":37},"end":{"line":63,"column":57}}]},"13":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"14":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":33}},{"start":{"line":70,"column":37},"end":{"line":70,"column":61}}]},"15":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"16":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"17":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"18":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":4}},{"start":{"line":97,"column":4},"end":{"line":97,"column":4}}]},"19":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":13}},{"start":{"line":98,"column":11},"end":{"line":98,"column":34}},{"start":{"line":99,"column":11},"end":{"line":99,"column":41}}]},"20":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"21":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":18},"end":{"line":139,"column":29}},{"start":{"line":139,"column":33},"end":{"line":139,"column":42}},{"start":{"line":139,"column":46},"end":{"line":139,"column":49}}]},"22":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":11},"end":{"line":146,"column":20}},{"start":{"line":146,"column":24},"end":{"line":146,"column":28}}]}},"code":["var domain    = require('domain');","var debug     = require('debug')('axm:events');","var Common    = require('./common.js');","var Transport = require('./utils/transport.js');","","var Actions = {};","","Actions.action = function(action_name, opts, fn) {","  if (!fn) {","    fn = opts;","    opts = null;","  }","","  if (!action_name)","    return console.error('[PMX] action.action_name is missing');","  if (!fn)","    return console.error('[PMX] emit.data is mission');","","  if (!process.send) {","    debug('Process not running within PM2');","    return false;","  }","","  // Notify the action","  Transport.send({","    type : 'axm:action',","    data : {","      action_name : action_name,","      opts        : opts,","      arity       : fn.length","    }","  });","","  function reply(data) {","    if (data.length) {","      data._length = data.length;","      delete data.length;","    }","","    Transport.send({","      type        : 'axm:reply',","      data        : {","        return      : data,","        action_name : action_name","      }","    });","  }","","  process.on('message', function(data) {","    if (!data) return false;","","    // In case 2 arguments has been set but no options has been transmitted","    if (fn.length === 2 && typeof(data) === 'string' && data === action_name)","      return fn({}, reply);","","    // In case 1 arguments has been set but options has been transmitted","    if (fn.length === 1 && typeof(data) === 'object' && data.msg === action_name)","      return fn(reply);","","    /**","     * Classical call","     */","    if (typeof(data) === 'string' && data === action_name)","      return fn(reply);","","    /**","     * If data is an object == v2 protocol","     * Pass the opts as first argument","     */","    if (typeof(data) === 'object' && data.msg === action_name)","      return fn(data.opts, reply);","  });","};","","Actions.scopedAction = function(action_name, fn) {","","  if (!action_name)","    return console.error('[PMX] action.action_name is missing');","  if (!fn)","    return console.error('[PMX] callback is missing');","","  if (!process.send) {","    debug('Process not running within PM2');","    return false;","  }","","  // Notify the action","  Transport.send({","    type : 'axm:action',","    data : {","      action_name : action_name,","      action_type : 'scoped'","    }","  });","","  process.on('message', function(data) {","    if (!data","        || data.uuid === undefined","        || data.action_name === undefined)","      return false;","","    if (data.action_name === action_name) {","      var res = {","        send : function(dt) {","          Transport.send({","            type        : 'axm:scoped_action:stream',","            data        : {","              data        : dt,","              uuid        : data.uuid,","              action_name : action_name","            }","          });","        },","        error : function(dt) {","          Transport.send({","            type        : 'axm:scoped_action:error',","            data        : {","              data        : dt,","              uuid        : data.uuid,","              action_name : action_name","            }","          });","        },","        end : function(dt) {","          Transport.send({","            type        : 'axm:scoped_action:end',","            data        : {","              data        : dt,","              uuid        : data.uuid,","              action_name : action_name","            }","          });","        }","      };","","      var d = domain.create();","","      d.on('error', function(err) {","        res.error(err.message || err.stack || err);","        setTimeout(function() {","          process.exit(1);","        }, 300);","      });","","      d.run(function() {","        fn(data.opts || null, res);","      });","    }","  });","};","","module.exports = Actions;",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"10":0,"11":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"25":0,"34":1,"35":0,"36":0,"37":0,"40":0,"49":0,"50":0,"53":0,"54":0,"57":0,"58":0,"63":0,"64":0,"70":0,"71":0,"75":1,"77":0,"78":0,"79":0,"80":0,"82":0,"83":0,"84":0,"88":0,"96":0,"97":0,"100":0,"102":0,"103":0,"105":0,"115":0,"125":0,"136":0,"138":0,"139":0,"140":0,"141":0,"145":0,"146":0,"152":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/notify.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/notify.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":43}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":42},"end":{"line":18,"column":56}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":33}}},"4":{"name":"getUncaughtExceptionListener","line":38,"loc":{"start":{"line":38,"column":2},"end":{"line":38,"column":50}}},"5":{"name":"uncaughtListener","line":39,"loc":{"start":{"line":39,"column":11},"end":{"line":39,"column":42}}},"6":{"name":"(anonymous_6)","line":60,"loc":{"start":{"line":60,"column":46},"end":{"line":60,"column":66}}},"7":{"name":"(anonymous_7)","line":81,"loc":{"start":{"line":81,"column":25},"end":{"line":81,"column":39}}},"8":{"name":"(anonymous_8)","line":99,"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":56}}},"9":{"name":"(anonymous_9)","line":111,"loc":{"start":{"line":111,"column":16},"end":{"line":111,"column":30}}},"10":{"name":"(anonymous_10)","line":125,"loc":{"start":{"line":125,"column":29},"end":{"line":125,"column":40}}},"11":{"name":"errorHandler","line":132,"loc":{"start":{"line":132,"column":9},"end":{"line":132,"column":52}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":48}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":16}},"7":{"start":{"line":12,"column":0},"end":{"line":22,"column":2}},"8":{"start":{"line":13,"column":2},"end":{"line":14,"column":15}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":15}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":23}},"11":{"start":{"line":18,"column":2},"end":{"line":20,"column":5}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":32}},"13":{"start":{"line":21,"column":2},"end":{"line":21,"column":21}},"14":{"start":{"line":24,"column":0},"end":{"line":79,"column":2}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":52}},"16":{"start":{"line":28,"column":2},"end":{"line":29,"column":29}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":29}},"18":{"start":{"line":31,"column":2},"end":{"line":33,"column":5}},"19":{"start":{"line":35,"column":2},"end":{"line":36,"column":17}},"20":{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},"21":{"start":{"line":38,"column":2},"end":{"line":68,"column":3}},"22":{"start":{"line":39,"column":4},"end":{"line":67,"column":5}},"23":{"start":{"line":40,"column":6},"end":{"line":40,"column":53}},"24":{"start":{"line":42,"column":6},"end":{"line":45,"column":7}},"25":{"start":{"line":43,"column":8},"end":{"line":43,"column":33}},"26":{"start":{"line":44,"column":8},"end":{"line":44,"column":26}},"27":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"28":{"start":{"line":48,"column":8},"end":{"line":48,"column":123}},"29":{"start":{"line":51,"column":6},"end":{"line":51,"column":27}},"30":{"start":{"line":52,"column":6},"end":{"line":53,"column":49}},"31":{"start":{"line":53,"column":8},"end":{"line":53,"column":49}},"32":{"start":{"line":55,"column":6},"end":{"line":58,"column":15}},"33":{"start":{"line":60,"column":6},"end":{"line":66,"column":7}},"34":{"start":{"line":61,"column":8},"end":{"line":61,"column":45}},"35":{"start":{"line":64,"column":8},"end":{"line":65,"column":26}},"36":{"start":{"line":65,"column":10},"end":{"line":65,"column":26}},"37":{"start":{"line":70,"column":2},"end":{"line":78,"column":3}},"38":{"start":{"line":71,"column":4},"end":{"line":71,"column":89}},"39":{"start":{"line":72,"column":4},"end":{"line":72,"column":91}},"40":{"start":{"line":74,"column":7},"end":{"line":78,"column":3}},"41":{"start":{"line":76,"column":4},"end":{"line":76,"column":52}},"42":{"start":{"line":77,"column":4},"end":{"line":77,"column":53}},"43":{"start":{"line":81,"column":0},"end":{"line":109,"column":2}},"44":{"start":{"line":82,"column":2},"end":{"line":82,"column":17}},"45":{"start":{"line":84,"column":2},"end":{"line":106,"column":3}},"46":{"start":{"line":86,"column":4},"end":{"line":86,"column":24}},"47":{"start":{"line":87,"column":4},"end":{"line":87,"column":22}},"48":{"start":{"line":89,"column":7},"end":{"line":106,"column":3}},"49":{"start":{"line":91,"column":4},"end":{"line":91,"column":24}},"50":{"start":{"line":92,"column":4},"end":{"line":92,"column":22}},"51":{"start":{"line":94,"column":7},"end":{"line":106,"column":3}},"52":{"start":{"line":96,"column":4},"end":{"line":96,"column":14}},"53":{"start":{"line":97,"column":4},"end":{"line":104,"column":5}},"54":{"start":{"line":98,"column":6},"end":{"line":98,"column":27}},"55":{"start":{"line":99,"column":7},"end":{"line":101,"column":9}},"56":{"start":{"line":100,"column":8},"end":{"line":100,"column":102}},"57":{"start":{"line":102,"column":6},"end":{"line":102,"column":36}},"58":{"start":{"line":103,"column":6},"end":{"line":103,"column":35}},"59":{"start":{"line":105,"column":4},"end":{"line":105,"column":16}},"60":{"start":{"line":108,"column":2},"end":{"line":108,"column":24}},"61":{"start":{"line":111,"column":0},"end":{"line":123,"column":2}},"62":{"start":{"line":112,"column":2},"end":{"line":112,"column":42}},"63":{"start":{"line":117,"column":2},"end":{"line":120,"column":11}},"64":{"start":{"line":122,"column":2},"end":{"line":122,"column":17}},"65":{"start":{"line":125,"column":0},"end":{"line":149,"column":2}},"66":{"start":{"line":126,"column":2},"end":{"line":126,"column":18}},"67":{"start":{"line":128,"column":2},"end":{"line":130,"column":5}},"68":{"start":{"line":132,"column":2},"end":{"line":148,"column":4}},"69":{"start":{"line":133,"column":4},"end":{"line":133,"column":51}},"70":{"start":{"line":133,"column":30},"end":{"line":133,"column":51}},"71":{"start":{"line":137,"column":4},"end":{"line":137,"column":22}},"72":{"start":{"line":138,"column":4},"end":{"line":138,"column":28}},"73":{"start":{"line":139,"column":4},"end":{"line":139,"column":28}},"74":{"start":{"line":140,"column":4},"end":{"line":140,"column":26}},"75":{"start":{"line":141,"column":4},"end":{"line":141,"column":30}},"76":{"start":{"line":143,"column":4},"end":{"line":146,"column":13}},"77":{"start":{"line":147,"column":4},"end":{"line":147,"column":21}},"78":{"start":{"line":151,"column":0},"end":{"line":151,"column":24}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"4":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":37},"end":{"line":40,"column":46}},{"start":{"line":40,"column":49},"end":{"line":40,"column":52}}]},"5":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":18},"end":{"line":40,"column":21}},{"start":{"line":40,"column":25},"end":{"line":40,"column":34}}]},"6":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":6},"end":{"line":42,"column":6}},{"start":{"line":42,"column":6},"end":{"line":42,"column":6}}]},"7":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":10},"end":{"line":42,"column":13}},{"start":{"line":42,"column":17},"end":{"line":42,"column":27}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":6}},{"start":{"line":47,"column":6},"end":{"line":47,"column":6}}]},"9":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"10":{"line":57,"type":"cond-expr","locations":[{"start":{"line":57,"column":38},"end":{"line":57,"column":44}},{"start":{"line":57,"column":47},"end":{"line":57,"column":102}}]},"11":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":6}},{"start":{"line":60,"column":6},"end":{"line":60,"column":6}}]},"12":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"13":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"14":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":26}},{"start":{"line":70,"column":30},"end":{"line":70,"column":95}}]},"15":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":7},"end":{"line":74,"column":7}},{"start":{"line":74,"column":7},"end":{"line":74,"column":7}}]},"16":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":11},"end":{"line":74,"column":32}},{"start":{"line":75,"column":14},"end":{"line":75,"column":79}}]},"17":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":2},"end":{"line":84,"column":2}},{"start":{"line":84,"column":2},"end":{"line":84,"column":2}}]},"18":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":7},"end":{"line":89,"column":7}},{"start":{"line":89,"column":7},"end":{"line":89,"column":7}}]},"19":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":11},"end":{"line":89,"column":34}},{"start":{"line":89,"column":38},"end":{"line":89,"column":62}}]},"20":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":7},"end":{"line":94,"column":7}},{"start":{"line":94,"column":7},"end":{"line":94,"column":7}}]},"21":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":4}},{"start":{"line":97,"column":4},"end":{"line":97,"column":4}}]},"22":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":4}},{"start":{"line":133,"column":4},"end":{"line":133,"column":4}}]}},"code":["","var debug = require('debug')('axm:notify');","var util  = require('util');","var Common    = require('./common.js');","","var Options = require('./configuration.js');","var Transport = require('./utils/transport.js');","","var Notify = {};","","","var jsonize = function(err, filter, space) {","  if (typeof(err) != 'object')","    return err;","","  var plainObject = {};","","  Object.getOwnPropertyNames(err).forEach(function(key) {","    plainObject[key] = err[key];","  });","  return plainObject;","};","","Notify.catchAll = function(opts) {","","  var callsites = require('./utils/error-callsites')","","  if (opts === undefined)","    opts = { errors : true };","","  Options.configureModule({","    error : opts.errors","  });","","  if (process.env.exec_mode === 'cluster_mode')","    return false;","","  function getUncaughtExceptionListener(listener) {","    return function uncaughtListener(err) {","      var error = err && err.stack ? err.stack : err;","","      if (err && err.length) {","        err._length = err.length;","        delete err.length;","      }","","      if (listener === 'unhandledRejection') {","        error = 'You have triggered an unhandledRejection, you may have forgotten to catch a Promise rejection:\\n' + error;","      }","","      console.error(error);","      if (err)","        var errObj = Notify._interpretError(err);","","      Transport.send({","        type : 'process:exception',","        data : errObj !== undefined ? errObj : {message: 'No error but ' + listener + ' was caught!' }","      }, true);","","      if (!process.listeners(listener).filter(function (listener) {","        return listener !== uncaughtListener;","      }).length) {","","        if (listener == 'uncaughtException')","          process.exit(1);","      }","    }","  }","","  if (opts.errors === true && util.inspect(process.listeners('uncaughtException')).length === 2) {","    process.once('uncaughtException', getUncaughtExceptionListener('uncaughtException'));","    process.once('unhandledRejection', getUncaughtExceptionListener('unhandledRejection'));","  }","  else if (opts.errors === false","           && util.inspect(process.listeners('uncaughtException')).length !== 2) {","    process.removeAllListeners('uncaughtException');","    process.removeAllListeners('unhandledRejection');","  }","};","","Notify._interpretError = function(err) {","  var s_err = {};","","  if (typeof(err) === 'string') {","    // Simple string processing","    s_err.message = err;","    s_err.stack = err;","  }","  else if (!(err instanceof Error) && typeof(err) === 'object') {","    // JSON processing","    s_err.message = err;","    s_err.stack = err;","  }","  else if (err instanceof Error) {","    // Error object type processing","    err.stack;","    if (err.__error_callsites) {","      var stackFrames = [];","       err.__error_callsites.forEach(function(callSite) {","        stackFrames.push({ file_name: callSite.getFileName(), line_number: callSite.getLineNumber()});","      });","      err.stackframes = stackFrames;","      delete err.__error_callsites;","    }","    s_err = err;","  }","","  return jsonize(s_err);","};","","Notify.notify = function(err) {","  var ret_err = this._interpretError(err);","","  // full_err","  //debug(ret_err);","","  Transport.send({","    type : 'process:exception',","    data : ret_err","  }, true);","","  return ret_err;","};","","Notify.expressErrorHandler = function() {","  var self = this;","","  Options.configureModule({","    error : true","  });","","  return function errorHandler(err, req, res, next) {","    if (res.statusCode < 400) res.statusCode = 500;","","    //debug(err.stack || err);","","    err.url = req.url;","    err.component = req.url;","    err.action = req.method;","    err.params = req.body;","    err.session = req.session;","","    Transport.send({","      type  : 'process:exception',","      data  : jsonize(err)","    }, true);","    return next(err);","  };","};","","module.exports = Notify;",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":1,"9":1,"12":1,"13":0,"14":0,"16":0,"18":0,"19":0,"21":0,"24":1,"26":0,"28":0,"29":0,"31":0,"35":0,"36":0,"38":1,"39":0,"40":0,"42":0,"43":0,"44":0,"47":0,"48":0,"51":0,"52":0,"53":0,"55":0,"60":0,"61":0,"64":0,"65":0,"70":0,"71":0,"72":0,"74":0,"76":0,"77":0,"81":1,"82":0,"84":0,"86":0,"87":0,"89":0,"91":0,"92":0,"94":0,"96":0,"97":0,"98":0,"99":0,"100":0,"102":0,"103":0,"105":0,"108":0,"111":1,"112":0,"117":0,"122":0,"125":1,"126":0,"128":0,"132":0,"133":0,"137":0,"138":0,"139":0,"140":0,"141":0,"143":0,"147":0,"151":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/configuration.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/configuration.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":1,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1},"b":{"1":[1,0],"2":[0,1],"3":[0,0],"4":[0,0],"5":[1,1],"6":[1,0],"7":[0,1],"8":[0,1],"9":[0,0],"10":[0,0,0],"11":[1,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":41}}},"2":{"name":"findPackageJson","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":15},"end":{"line":42,"column":47}}},"4":{"name":"(anonymous_4)","line":103,"loc":{"start":{"line":103,"column":44},"end":{"line":103,"column":58}}},"5":{"name":"(anonymous_5)","line":122,"loc":{"start":{"line":122,"column":17},"end":{"line":122,"column":32}}},"6":{"name":"(anonymous_6)","line":128,"loc":{"start":{"line":128,"column":26},"end":{"line":128,"column":46}}},"7":{"name":"detect","line":132,"loc":{"start":{"line":132,"column":2},"end":{"line":132,"column":29}}},"8":{"name":"(anonymous_8)","line":135,"loc":{"start":{"line":135,"column":19},"end":{"line":135,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":47}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":17}},"9":{"start":{"line":16,"column":0},"end":{"line":21,"column":2}},"10":{"start":{"line":17,"column":2},"end":{"line":20,"column":12}},"11":{"start":{"line":23,"column":0},"end":{"line":40,"column":1}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":83}},"13":{"start":{"line":26,"column":2},"end":{"line":37,"column":3}},"14":{"start":{"line":27,"column":4},"end":{"line":27,"column":26}},"15":{"start":{"line":29,"column":4},"end":{"line":35,"column":5}},"16":{"start":{"line":30,"column":6},"end":{"line":30,"column":89}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":28}},"18":{"start":{"line":33,"column":6},"end":{"line":33,"column":40}},"19":{"start":{"line":34,"column":6},"end":{"line":34,"column":18}},"20":{"start":{"line":36,"column":4},"end":{"line":36,"column":20}},"21":{"start":{"line":39,"column":2},"end":{"line":39,"column":18}},"22":{"start":{"line":42,"column":0},"end":{"line":120,"column":2}},"23":{"start":{"line":43,"column":2},"end":{"line":43,"column":43}},"24":{"start":{"line":44,"column":2},"end":{"line":44,"column":19}},"25":{"start":{"line":46,"column":2},"end":{"line":47,"column":26}},"26":{"start":{"line":47,"column":4},"end":{"line":47,"column":26}},"27":{"start":{"line":49,"column":2},"end":{"line":88,"column":3}},"28":{"start":{"line":53,"column":4},"end":{"line":70,"column":5}},"29":{"start":{"line":54,"column":6},"end":{"line":54,"column":47}},"30":{"start":{"line":56,"column":6},"end":{"line":56,"column":49}},"31":{"start":{"line":57,"column":6},"end":{"line":57,"column":46}},"32":{"start":{"line":58,"column":6},"end":{"line":58,"column":53}},"33":{"start":{"line":59,"column":6},"end":{"line":59,"column":33}},"34":{"start":{"line":61,"column":6},"end":{"line":62,"column":42}},"35":{"start":{"line":62,"column":8},"end":{"line":62,"column":42}},"36":{"start":{"line":64,"column":6},"end":{"line":67,"column":7}},"37":{"start":{"line":65,"column":8},"end":{"line":65,"column":55}},"38":{"start":{"line":66,"column":8},"end":{"line":66,"column":47}},"39":{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},"40":{"start":{"line":72,"column":4},"end":{"line":72,"column":57}},"41":{"start":{"line":73,"column":4},"end":{"line":87,"column":5}},"42":{"start":{"line":74,"column":6},"end":{"line":74,"column":47}},"43":{"start":{"line":76,"column":6},"end":{"line":76,"column":49}},"44":{"start":{"line":77,"column":6},"end":{"line":77,"column":33}},"45":{"start":{"line":79,"column":6},"end":{"line":80,"column":42}},"46":{"start":{"line":80,"column":8},"end":{"line":80,"column":42}},"47":{"start":{"line":82,"column":6},"end":{"line":85,"column":7}},"48":{"start":{"line":83,"column":8},"end":{"line":83,"column":55}},"49":{"start":{"line":84,"column":8},"end":{"line":84,"column":47}},"50":{"start":{"line":93,"column":2},"end":{"line":114,"column":3}},"51":{"start":{"line":94,"column":4},"end":{"line":110,"column":5}},"52":{"start":{"line":95,"column":6},"end":{"line":95,"column":76}},"53":{"start":{"line":96,"column":6},"end":{"line":96,"column":45}},"54":{"start":{"line":98,"column":6},"end":{"line":98,"column":32}},"55":{"start":{"line":100,"column":6},"end":{"line":100,"column":97}},"56":{"start":{"line":103,"column":6},"end":{"line":109,"column":9}},"57":{"start":{"line":104,"column":8},"end":{"line":107,"column":9}},"58":{"start":{"line":106,"column":10},"end":{"line":106,"column":52}},"59":{"start":{"line":116,"column":2},"end":{"line":116,"column":43}},"60":{"start":{"line":116,"column":31},"end":{"line":116,"column":43}},"61":{"start":{"line":118,"column":2},"end":{"line":118,"column":32}},"62":{"start":{"line":119,"column":2},"end":{"line":119,"column":14}},"63":{"start":{"line":122,"column":0},"end":{"line":126,"column":2}},"64":{"start":{"line":123,"column":2},"end":{"line":124,"column":16}},"65":{"start":{"line":124,"column":4},"end":{"line":124,"column":16}},"66":{"start":{"line":125,"column":2},"end":{"line":125,"column":52}},"67":{"start":{"line":128,"column":0},"end":{"line":150,"column":2}},"68":{"start":{"line":129,"column":2},"end":{"line":130,"column":21}},"69":{"start":{"line":130,"column":4},"end":{"line":130,"column":21}},"70":{"start":{"line":132,"column":2},"end":{"line":145,"column":3}},"71":{"start":{"line":133,"column":4},"end":{"line":133,"column":21}},"72":{"start":{"line":135,"column":4},"end":{"line":142,"column":7}},"73":{"start":{"line":136,"column":6},"end":{"line":140,"column":7}},"74":{"start":{"line":137,"column":8},"end":{"line":137,"column":44}},"75":{"start":{"line":139,"column":8},"end":{"line":139,"column":21}},"76":{"start":{"line":141,"column":6},"end":{"line":141,"column":18}},"77":{"start":{"line":144,"column":4},"end":{"line":144,"column":37}},"78":{"start":{"line":147,"column":2},"end":{"line":147,"column":40}},"79":{"start":{"line":149,"column":2},"end":{"line":149,"column":33}},"80":{"start":{"line":153,"column":0},"end":{"line":153,"column":25}}},"branchMap":{"1":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":46,"column":2}},{"start":{"line":46,"column":2},"end":{"line":46,"column":2}}]},"2":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"3":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":6},"end":{"line":61,"column":6}},{"start":{"line":61,"column":6},"end":{"line":61,"column":6}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":6}},{"start":{"line":64,"column":6},"end":{"line":64,"column":6}}]},"5":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":23},"end":{"line":72,"column":39}},{"start":{"line":72,"column":43},"end":{"line":72,"column":56}}]},"6":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":6},"end":{"line":79,"column":6}},{"start":{"line":79,"column":6},"end":{"line":79,"column":6}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":6}},{"start":{"line":82,"column":6},"end":{"line":82,"column":6}}]},"8":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"9":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"10":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":13},"end":{"line":104,"column":30}},{"start":{"line":104,"column":34},"end":{"line":104,"column":49}},{"start":{"line":105,"column":12},"end":{"line":105,"column":45}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":2},"end":{"line":116,"column":2}},{"start":{"line":116,"column":2},"end":{"line":116,"column":2}}]},"12":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":2},"end":{"line":123,"column":2}},{"start":{"line":123,"column":2},"end":{"line":123,"column":2}}]},"13":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":2},"end":{"line":129,"column":2}},{"start":{"line":129,"column":2},"end":{"line":129,"column":2}}]},"14":{"line":149,"type":"cond-expr","locations":[{"start":{"line":149,"column":22},"end":{"line":149,"column":26}},{"start":{"line":149,"column":29},"end":{"line":149,"column":32}}]}},"code":["","var debug     = require('debug')('axm:events');","var Transport = require('./utils/transport.js');","var Autocast  = require('./utils/autocast.js');","var path      = require('path');","var fs        = require('fs');","var util      = require('util');","var pkg       = require('../package.json');","","var Options = {};","","/**"," * https://github.com/Unitech/PM2/blob/master/lib/Satan.js#L249"," * Event axm:option:configuration caught in Satan.js"," */","Options.configureModule = function(opts) {","  Transport.send({","    type : 'axm:option:configuration',","    data : opts","  }, false);","};","","function findPackageJson() {","  var pkg_path = path.resolve(path.dirname(require.main.filename), 'package.json');","","  try {","    fs.statSync(pkg_path);","  } catch(e) {","    try {","      pkg_path = path.resolve(path.dirname(require.main.filename), '..', 'package.json');","      fs.statSync(pkg_path);","    } catch(e) {","      debug('Cannot find package.json');","      return null;","    }","    return pkg_path;","  }","","  return pkg_path;","}","","Options.init = function(conf, do_not_tell_pm2) {","  var package_filepath = findPackageJson();","  var package_json;","","  if (!conf.module_conf)","    conf.module_conf = {};","","  if (conf.isModule == true) {","    /**","     * Merge package.json metadata","     */","    try {","      package_json = require(package_filepath);","","      conf.module_version = package_json.version;","      conf.module_name    = package_json.name;","      conf.description    = package_json.description;","      conf.pmx_version    = null;","","      if (pkg.version)","        conf.pmx_version    = pkg.version;","","      if (package_json.config) {","        conf = util._extend(conf, package_json.config);","        conf.module_conf = package_json.config;","      }","    } catch(e) {","      throw new Error(e);","    }","  } else {","    conf.module_name = process.env.name || 'outside-pm2';","    try {","      package_json = require(package_filepath);","","      conf.module_version = package_json.version;","      conf.pmx_version    = null;","","      if (pkg.version)","        conf.pmx_version    = pkg.version;","","      if (package_json.config) {","        conf = util._extend(conf, package_json.config);","        conf.module_conf = package_json.config;","      }","    } catch(e) {","    }","  }","","  /**","   * If custom variables has been set, merge with returned configuration","   */","  try {","    if (process.env[conf.module_name]) {","      var casted_conf = Autocast(JSON.parse(process.env[conf.module_name]));","      conf = util._extend(conf, casted_conf);","      // Do not display probe configuration in Keymetrics","      delete casted_conf.probes;","      // This is the configuration variable modifiable from keymetrics","      conf.module_conf = JSON.parse(JSON.stringify(util._extend(conf.module_conf, casted_conf)));","","      // Obfuscate passwords","      Object.keys(conf.module_conf).forEach(function(key) {","        if ((key == 'password' || key == 'passwd') &&","            conf.module_conf[key].length >= 1) {","          conf.module_conf[key] = 'Password hidden';","        }","","      });","    }","  } catch(e) {","    //console.error(e);","    //console.error('Error while parsing configuration in environment (%s)', conf.module_name);","  }","","  if (do_not_tell_pm2 == true) return conf;","","  Options.configureModule(conf);","  return conf;","};","","Options.getPID = function(file) {","  if (typeof(file) === 'number')","    return file;","  return parseInt(fs.readFileSync(file).toString());","};","","Options.resolvePidPaths = function(filepaths) {","  if (typeof(filepaths) === 'number')","    return filepaths;","","  function detect(filepaths) {","    var content = '';","","    filepaths.some(function(filepath) {","      try {","        content = fs.readFileSync(filepath);","      } catch(e) {","        return false;","      }","      return true;","    });","","    return content.toString().trim();","  }","","  var ret = parseInt(detect(filepaths));","","  return isNaN(ret) ? null : ret;","};","","","module.exports = Options;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"16":1,"17":0,"23":1,"24":1,"26":1,"27":1,"29":0,"30":0,"31":0,"33":0,"34":0,"36":0,"39":1,"42":1,"43":1,"44":1,"46":1,"47":1,"49":1,"53":0,"54":0,"56":0,"57":0,"58":0,"59":0,"61":0,"62":0,"64":0,"65":0,"66":0,"69":0,"72":1,"73":1,"74":1,"76":1,"77":1,"79":1,"80":1,"82":1,"83":0,"84":0,"93":1,"94":1,"95":0,"96":0,"98":0,"100":0,"103":0,"104":0,"106":0,"116":1,"118":0,"119":0,"122":1,"123":0,"124":0,"125":0,"128":1,"129":0,"130":0,"132":1,"133":0,"135":0,"136":0,"137":0,"139":0,"141":0,"144":0,"147":0,"149":0,"153":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/autocast.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/autocast.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":12}}},"2":{"name":"process","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":33}}},"3":{"name":"traverse","line":18,"loc":{"start":{"line":18,"column":2},"end":{"line":18,"column":28}}},"4":{"name":"_cast","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":20}}},"5":{"name":"autocast","line":50,"loc":{"start":{"line":50,"column":2},"end":{"line":50,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":61,"column":5}},"2":{"start":{"line":5,"column":2},"end":{"line":11,"column":4}},"3":{"start":{"line":13,"column":2},"end":{"line":16,"column":3}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":42}},"5":{"start":{"line":14,"column":35},"end":{"line":14,"column":42}},"6":{"start":{"line":15,"column":4},"end":{"line":15,"column":26}},"7":{"start":{"line":18,"column":2},"end":{"line":26,"column":3}},"8":{"start":{"line":19,"column":4},"end":{"line":25,"column":5}},"9":{"start":{"line":20,"column":6},"end":{"line":20,"column":35}},"10":{"start":{"line":21,"column":6},"end":{"line":24,"column":7}},"11":{"start":{"line":23,"column":8},"end":{"line":23,"column":28}},"12":{"start":{"line":28,"column":2},"end":{"line":45,"column":3}},"13":{"start":{"line":29,"column":4},"end":{"line":29,"column":12}},"14":{"start":{"line":32,"column":4},"end":{"line":32,"column":36}},"15":{"start":{"line":32,"column":27},"end":{"line":32,"column":36}},"16":{"start":{"line":33,"column":4},"end":{"line":33,"column":40}},"17":{"start":{"line":33,"column":31},"end":{"line":33,"column":40}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":38}},"19":{"start":{"line":36,"column":27},"end":{"line":36,"column":38}},"20":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":48}},"22":{"start":{"line":40,"column":21},"end":{"line":40,"column":48}},"23":{"start":{"line":44,"column":4},"end":{"line":44,"column":13}},"24":{"start":{"line":50,"column":2},"end":{"line":57,"column":3}},"25":{"start":{"line":51,"column":4},"end":{"line":54,"column":5}},"26":{"start":{"line":52,"column":6},"end":{"line":52,"column":27}},"27":{"start":{"line":53,"column":6},"end":{"line":53,"column":15}},"28":{"start":{"line":56,"column":4},"end":{"line":56,"column":20}},"29":{"start":{"line":60,"column":2},"end":{"line":60,"column":28}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":6}},{"start":{"line":21,"column":6},"end":{"line":21,"column":6}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":10},"end":{"line":21,"column":23}},{"start":{"line":21,"column":27},"end":{"line":21,"column":49}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"6":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"7":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":6}},{"start":{"line":40,"column":6},"end":{"line":40,"column":6}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]}},"code":["(function() {","  /**","   * Common strings to cast","   */","  var common_strings = {","    'true': true,","    'false': false,","    'undefined': undefined,","    'null': null,","    'NaN': NaN","  };","","  function process(key,value, o) {","    if (typeof(value) == 'object') return;","    o[key] = _cast(value);","  }","","  function traverse(o,func) {","    for (var i in o) {","      func.apply(this,[i,o[i], o]);","      if (o[i] !== null && typeof(o[i])==\"object\") {","        //going on step down in the object tree!!","        traverse(o[i],func);","      }","    }","  }","","  function _cast(s) {","    var key;","","    // Don't cast Date objects","    if (s instanceof Date) return s;","    if (typeof s == 'boolean') return s;","","    // Try to cast it to a number","    if ((key = +s) == key) return key;","","    // Try to make it a common string","    for (key in common_strings) {","      if (s === key) return common_strings[key];","    }","","    // Give up","    return s;","  }","","  /**","   * Given a value, try and cast it","   */","  function autocast(s) {","    if (typeof(s) == 'object') {","      traverse(s, process);","      return s;","    }","","    return _cast(s);","  };","","  // export","  module.exports = autocast;","}());",""],"l":{"1":1,"5":1,"13":1,"14":0,"15":0,"18":1,"19":0,"20":0,"21":0,"23":0,"28":1,"29":0,"32":0,"33":0,"36":0,"39":0,"40":0,"44":0,"50":1,"51":0,"52":0,"53":0,"56":0,"60":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/transaction.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/transaction.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":43}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":48},"end":{"line":24,"column":63}}},"3":{"name":"(anonymous_3)","line":40,"loc":{"start":{"line":40,"column":19},"end":{"line":40,"column":34}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":30},"end":{"line":61,"column":45}}},"5":{"name":"(anonymous_5)","line":70,"loc":{"start":{"line":70,"column":15},"end":{"line":70,"column":30}}},"6":{"name":"(anonymous_6)","line":72,"loc":{"start":{"line":72,"column":15},"end":{"line":72,"column":30}}},"7":{"name":"(anonymous_7)","line":81,"loc":{"start":{"line":81,"column":11},"end":{"line":81,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":58}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"8":{"start":{"line":11,"column":0},"end":{"line":38,"column":2}},"9":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":47}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":50}},"12":{"start":{"line":19,"column":2},"end":{"line":21,"column":5}},"13":{"start":{"line":24,"column":2},"end":{"line":29,"column":4}},"14":{"start":{"line":25,"column":4},"end":{"line":28,"column":6}},"15":{"start":{"line":40,"column":0},"end":{"line":94,"column":2}},"16":{"start":{"line":41,"column":2},"end":{"line":41,"column":33}},"17":{"start":{"line":43,"column":2},"end":{"line":43,"column":32}},"18":{"start":{"line":45,"column":2},"end":{"line":53,"column":3}},"19":{"start":{"line":46,"column":4},"end":{"line":46,"column":50}},"20":{"start":{"line":47,"column":4},"end":{"line":52,"column":6}},"21":{"start":{"line":54,"column":2},"end":{"line":59,"column":11}},"22":{"start":{"line":61,"column":2},"end":{"line":93,"column":5}},"23":{"start":{"line":62,"column":4},"end":{"line":79,"column":5}},"24":{"start":{"line":63,"column":6},"end":{"line":63,"column":60}},"25":{"start":{"line":65,"column":6},"end":{"line":67,"column":9}},"26":{"start":{"line":69,"column":6},"end":{"line":78,"column":7}},"27":{"start":{"line":70,"column":8},"end":{"line":70,"column":84}},"28":{"start":{"line":70,"column":32},"end":{"line":70,"column":82}},"29":{"start":{"line":72,"column":8},"end":{"line":77,"column":10}},"30":{"start":{"line":73,"column":10},"end":{"line":76,"column":62}},"31":{"start":{"line":74,"column":12},"end":{"line":74,"column":84}},"32":{"start":{"line":76,"column":12},"end":{"line":76,"column":62}},"33":{"start":{"line":81,"column":4},"end":{"line":92,"column":6}},"34":{"start":{"line":82,"column":6},"end":{"line":91,"column":43}},"35":{"start":{"line":84,"column":8},"end":{"line":84,"column":44}},"36":{"start":{"line":85,"column":8},"end":{"line":87,"column":11}},"37":{"start":{"line":88,"column":8},"end":{"line":88,"column":65}},"38":{"start":{"line":91,"column":8},"end":{"line":91,"column":43}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":39}},{"start":{"line":13,"column":43},"end":{"line":13,"column":72}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"4":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"5":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":6},"end":{"line":69,"column":6}},{"start":{"line":69,"column":6},"end":{"line":69,"column":6}}]},"6":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":10},"end":{"line":73,"column":10}},{"start":{"line":73,"column":10},"end":{"line":73,"column":10}}]},"7":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":14},"end":{"line":73,"column":29}},{"start":{"line":73,"column":33},"end":{"line":73,"column":49}}]},"8":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":6}},{"start":{"line":82,"column":6},"end":{"line":82,"column":6}}]},"9":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":10},"end":{"line":82,"column":19}},{"start":{"line":83,"column":11},"end":{"line":83,"column":26}},{"start":{"line":83,"column":30},"end":{"line":83,"column":46}}]}},"code":["","var util            = require('util');","var Proxy           = require('./utils/proxy.js');","var SimpleHttpWrap  = require('./wrapper/simple_http.js');","var Options         = require('./configuration.js');","var debug           = require('debug')('axm:tracing');","var Transport       = require('./utils/transport.js');","","var Transaction = module.exports = {};","","Transaction.tracing = function (pmx, opts) {","","  if (Array.isArray(opts.ignore_routes) && opts.ignore_routes.length > 0) {","    opts.ignoreFilter.url = opts.ignore_routes;","  }","","  Transaction.tracer = require('vxx').start(opts);","","  Options.configureModule({","    tracing_enabled : true","  });","  ","  // broadcast to pm2 aggregator","  Transaction.tracer.getBus().on('transaction', function(data) {","    Transport.send({","      type: 'axm:trace',","      data: data","    })","  })","","  // Transaction.tracer.getBus().on('transaction', function (data) {","  //   if (!opts.custom_probes) return;","  //   // TODO: mine tracing data and require custom probes","  //   /*try {","  //     var custom_probe = require('./probes/' + modul)(pmx, Transaction.tracer)","  //   } catch (err) { }*/","  // })","};","","Transaction.http = function(opts) {","  var Module = require('module');","","  debug('Wrapping HTTP routes');","","  if (Array.isArray(opts)) {","    var routes = JSON.parse(JSON.stringify(opts));","    opts = {","      http          : true,","      http_latency  : 200,","      http_code     : 500,","      ignore_routes : routes","    };","  }","  opts = util._extend({","    http          : true,","    http_latency  : 200,","    http_code     : 500,","    ignore_routes : []","  }, opts);","","  Proxy.wrap(Module, '_load', function(load) {","    if (load.__axm_original) {","      debug('HTTP routes have already been wrapped before');","","      Options.configureModule({","        latency : opts.http","      });","","      if (opts.http === false) {","        return function(file) { return load.__axm_original.apply(this, arguments) };","      } else {","        return function(file) {","          if (file === 'http' || file === 'https')","            return SimpleHttpWrap(opts, load.__axm_original.apply(this, arguments));","          else","            return load.__axm_original.apply(this, arguments);","        };","      }","    }","","    return function(file) {","      if (opts.http &&","          (file === 'http' || file === 'https')) {","        debug('http module being required');","        Options.configureModule({","          latency : true","        });","        return SimpleHttpWrap(opts, load.apply(this, arguments));","      }","      else","        return load.apply(this, arguments);","    };","  });","};",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"11":1,"13":0,"14":0,"17":0,"19":0,"24":0,"25":0,"40":1,"41":0,"43":0,"45":0,"46":0,"47":0,"54":0,"61":0,"62":0,"63":0,"65":0,"69":0,"70":0,"72":0,"73":0,"74":0,"76":0,"81":0,"82":0,"84":0,"85":0,"88":0,"91":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/proxy.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/proxy.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":9},"end":{"line":8,"column":41}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"2":{"start":{"line":7,"column":0},"end":{"line":34,"column":2}},"3":{"start":{"line":9,"column":4},"end":{"line":9,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":53}},"5":{"start":{"line":11,"column":33},"end":{"line":11,"column":53}},"6":{"start":{"line":13,"column":4},"end":{"line":32,"column":5}},"7":{"start":{"line":14,"column":6},"end":{"line":14,"column":44}},"8":{"start":{"line":15,"column":6},"end":{"line":15,"column":40}},"9":{"start":{"line":16,"column":6},"end":{"line":16,"column":67}},"10":{"start":{"line":16,"column":21},"end":{"line":16,"column":67}},"11":{"start":{"line":17,"column":6},"end":{"line":21,"column":7}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":45}},"13":{"start":{"line":19,"column":8},"end":{"line":20,"column":17}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":17}},"15":{"start":{"line":22,"column":6},"end":{"line":22,"column":34}},"16":{"start":{"line":24,"column":6},"end":{"line":29,"column":7}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":56}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":41}},"19":{"start":{"line":30,"column":6},"end":{"line":30,"column":34}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":6},"end":{"line":16,"column":6}},{"start":{"line":16,"column":6},"end":{"line":16,"column":6}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"5":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]}},"code":["","var debug = require('debug')('axm:proxy');","","// var cls     = require('continuation-local-storage');","// var ns      = cls.createNamespace('namespace');","","var Proxy = module.exports = {","  wrap : function(object, methods, hook) {","    var self = this;","","    if (!Array.isArray(methods)) methods = [methods];","","    for (var i = 0; i < methods.length; ++i) {","      debug('Wrapping method:', methods[i]);","      var original = object[methods[i]];","      if (!original) return debug('Method %s unknown', methods[i]);","      if (original.__axm_original) {","        debug('Already wrapped', methods[i]);","        if (methods[i] != '_load')","          return;","      }","      var hooked = hook(original);","","      if (original.__axm_original) {","        hooked.__axm_original = original.__axm_original;","      }","      else {","        hooked.__axm_original = original;","      }","      object[methods[i]] = hooked;","      //debug('Method proxified');","    }","  }","};"],"l":{"2":1,"7":1,"9":0,"11":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"24":0,"25":0,"28":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/wrapper/simple_http.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/wrapper/simple_http.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":32},"end":{"line":8,"column":53}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":35}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":59},"end":{"line":31,"column":81}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":11},"end":{"line":32,"column":37}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":32},"end":{"line":35,"column":60}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":32},"end":{"line":48,"column":43}}},"7":{"name":"onRemoveListener","line":79,"loc":{"start":{"line":79,"column":34},"end":{"line":79,"column":62}}},"8":{"name":"(anonymous_8)","line":80,"loc":{"start":{"line":80,"column":21},"end":{"line":80,"column":32}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"5":{"start":{"line":8,"column":0},"end":{"line":98,"column":2}},"6":{"start":{"line":10,"column":2},"end":{"line":14,"column":5}},"7":{"start":{"line":16,"column":2},"end":{"line":20,"column":5}},"8":{"start":{"line":22,"column":2},"end":{"line":29,"column":4}},"9":{"start":{"line":23,"column":4},"end":{"line":27,"column":5}},"10":{"start":{"line":24,"column":6},"end":{"line":26,"column":7}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":20}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":17}},"13":{"start":{"line":31,"column":2},"end":{"line":96,"column":5}},"14":{"start":{"line":32,"column":4},"end":{"line":95,"column":6}},"15":{"start":{"line":33,"column":6},"end":{"line":33,"column":22}},"16":{"start":{"line":35,"column":6},"end":{"line":72,"column":8}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":24}},"18":{"start":{"line":38,"column":8},"end":{"line":46,"column":10}},"19":{"start":{"line":48,"column":8},"end":{"line":71,"column":11}},"20":{"start":{"line":50,"column":10},"end":{"line":51,"column":61}},"21":{"start":{"line":51,"column":12},"end":{"line":51,"column":61}},"22":{"start":{"line":53,"column":10},"end":{"line":68,"column":11}},"23":{"start":{"line":57,"column":12},"end":{"line":67,"column":15}},"24":{"start":{"line":70,"column":10},"end":{"line":70,"column":28}},"25":{"start":{"line":74,"column":6},"end":{"line":75,"column":50}},"26":{"start":{"line":75,"column":8},"end":{"line":75,"column":50}},"27":{"start":{"line":77,"column":6},"end":{"line":92,"column":7}},"28":{"start":{"line":79,"column":8},"end":{"line":87,"column":11}},"29":{"start":{"line":80,"column":10},"end":{"line":86,"column":18}},"30":{"start":{"line":81,"column":12},"end":{"line":85,"column":13}},"31":{"start":{"line":82,"column":14},"end":{"line":82,"column":66}},"32":{"start":{"line":83,"column":14},"end":{"line":83,"column":70}},"33":{"start":{"line":84,"column":14},"end":{"line":84,"column":40}},"34":{"start":{"line":89,"column":8},"end":{"line":89,"column":59}},"35":{"start":{"line":91,"column":8},"end":{"line":91,"column":33}},"36":{"start":{"line":94,"column":6},"end":{"line":94,"column":48}},"37":{"start":{"line":97,"column":2},"end":{"line":97,"column":14}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"2":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":19},"end":{"line":42,"column":53}},{"start":{"line":43,"column":13},"end":{"line":43,"column":74}},{"start":{"line":44,"column":13},"end":{"line":44,"column":66}},{"start":{"line":45,"column":13},"end":{"line":45,"column":112}},{"start":{"line":45,"column":117},"end":{"line":45,"column":119}}]},"3":{"line":43,"type":"cond-expr","locations":[{"start":{"line":43,"column":34},"end":{"line":43,"column":66}},{"start":{"line":43,"column":69},"end":{"line":43,"column":74}}]},"4":{"line":44,"type":"cond-expr","locations":[{"start":{"line":44,"column":30},"end":{"line":44,"column":58}},{"start":{"line":44,"column":61},"end":{"line":44,"column":66}}]},"5":{"line":45,"type":"cond-expr","locations":[{"start":{"line":45,"column":65},"end":{"line":45,"column":104}},{"start":{"line":45,"column":107},"end":{"line":45,"column":112}}]},"6":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":14},"end":{"line":45,"column":32}},{"start":{"line":45,"column":36},"end":{"line":45,"column":61}}]},"7":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":10},"end":{"line":50,"column":10}},{"start":{"line":50,"column":10},"end":{"line":50,"column":10}}]},"8":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":10},"end":{"line":53,"column":10}},{"start":{"line":53,"column":10},"end":{"line":53,"column":10}}]},"9":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":15},"end":{"line":53,"column":67}},{"start":{"line":54,"column":18},"end":{"line":54,"column":55}},{"start":{"line":55,"column":17},"end":{"line":55,"column":46}}]},"10":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":29},"end":{"line":65,"column":65}},{"start":{"line":65,"column":69},"end":{"line":65,"column":73}}]},"11":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":6}},{"start":{"line":74,"column":6},"end":{"line":74,"column":6}}]},"12":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":31}},{"start":{"line":74,"column":35},"end":{"line":74,"column":65}}]},"13":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":6}},{"start":{"line":77,"column":6},"end":{"line":77,"column":6}}]},"14":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]}},"code":["","var Proxy     = require('../utils/proxy.js');","var Transport = require('../utils/transport.js');","var Probe     = require('../Probe.js');","","var gl_meter, gl_latency;","","var HttpWrap = module.exports = function(opts, http) {","","  gl_meter = require('../pmx').probe().meter({","    name    : 'HTTP',","    samples : 60,","    unit    : 'req/min'","  });","","  gl_latency = require('../pmx').probe().histogram({","    measurement : 'mean',","    name        : 'pmx:http:latency',","    unit        : 'ms'","  });","","  var ignoreRoutes = function(url) {","    for (var i = 0; i < opts.ignore_routes.length; ++i) {","      if (url.match(opts.ignore_routes[i]) != null) {","        return true;","      }","    }","    return false;","  };","","  Proxy.wrap(http.Server.prototype, ['on', 'addListener'], function(addListener) {","    return function(event, listener) {","      var self = this;","","      var overloaded_function = function(request, response) {","        gl_meter.mark();","","        var http_start = {","          url    : request.url,","          method : request.method,","          start  : Date.now(),","          ip     : request.headers['x-forwarded-for'] ||","            (request.connection ? request.connection.remoteAddress : false) ||","            (request.socket ? request.socket.remoteAddress : false) ||","            ((request.connection && request.connection.socket) ? request.connection.socket.remoteAddress : false) || ''","        };","","        response.once('finish', function() {","","          if (!ignoreRoutes(http_start.url))","            gl_latency.update(Date.now() - http_start.start);","","          if (((Date.now() - http_start.start) >= opts.http_latency","               || response.statusCode >= opts.http_code)","              && !ignoreRoutes(http_start.url)) {","","            Transport.send({","              type : 'http:transaction',","              data : {","                url        : http_start.url,","                method     : http_start.method,","                time       : Date.now() - http_start.start,","                code       : response.statusCode,","                ip         : http_start.ip,","                size       : response.getHeader('Content-Length') || null","              }","            });","          }","","          http_start = null;","        });","      };","","      if (!(event === 'request' && typeof listener === 'function'))","        return addListener.apply(self, arguments);","","      if (self.__overloaded !== true) {","","        self.on('removeListener', function onRemoveListener() {","          setTimeout(function() {","            if (self.listeners('request').length === 1) {","              self.removeListener('request', overloaded_function);","              self.removeListener('removeListener', onRemoveListener);","              self.__overloaded = false;","            }","          }, 200);","        });","","        addListener.call(self, event, overloaded_function);","","        self.__overloaded = true;","      }","","      return addListener.apply(self, arguments);","    };","  });","  return http;","};",""],"l":{"2":1,"3":1,"4":1,"6":1,"8":1,"10":0,"16":0,"22":0,"23":0,"24":0,"25":0,"28":0,"31":0,"32":0,"33":0,"35":0,"36":0,"38":0,"48":0,"50":0,"51":0,"53":0,"57":0,"70":0,"74":0,"75":0,"77":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"89":0,"91":0,"94":0,"97":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/Probe.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/Probe.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"getValue","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":25}}},"2":{"name":"cookData","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":24}}},"3":{"name":"(anonymous_3)","line":45,"loc":{"start":{"line":45,"column":28},"end":{"line":45,"column":49}}},"4":{"name":"checkIssues","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":27}}},"5":{"name":"(anonymous_5)","line":74,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":49}}},"6":{"name":"attachAlert","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":33}}},"7":{"name":"(anonymous_7)","line":108,"loc":{"start":{"line":108,"column":14},"end":{"line":108,"column":25}}},"8":{"name":"(anonymous_8)","line":119,"loc":{"start":{"line":119,"column":33},"end":{"line":119,"column":44}}},"9":{"name":"(anonymous_9)","line":142,"loc":{"start":{"line":142,"column":16},"end":{"line":142,"column":50}}},"10":{"name":"(anonymous_10)","line":156,"loc":{"start":{"line":156,"column":13},"end":{"line":156,"column":28}}},"11":{"name":"(anonymous_11)","line":176,"loc":{"start":{"line":176,"column":14},"end":{"line":176,"column":25}}},"12":{"name":"(anonymous_12)","line":184,"loc":{"start":{"line":184,"column":14},"end":{"line":184,"column":27}}},"13":{"name":"(anonymous_13)","line":189,"loc":{"start":{"line":189,"column":16},"end":{"line":189,"column":31}}},"14":{"name":"(anonymous_14)","line":204,"loc":{"start":{"line":204,"column":15},"end":{"line":204,"column":26}}},"15":{"name":"(anonymous_15)","line":216,"loc":{"start":{"line":216,"column":12},"end":{"line":216,"column":27}}},"16":{"name":"(anonymous_16)","line":229,"loc":{"start":{"line":229,"column":15},"end":{"line":229,"column":26}}},"17":{"name":"(anonymous_17)","line":241,"loc":{"start":{"line":241,"column":14},"end":{"line":241,"column":29}}},"18":{"name":"(anonymous_18)","line":252,"loc":{"start":{"line":252,"column":15},"end":{"line":252,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":48}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":32}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":15}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":23}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":20}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":66}},"12":{"start":{"line":17,"column":0},"end":{"line":30,"column":2}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":38}},"14":{"start":{"line":33,"column":0},"end":{"line":37,"column":1}},"15":{"start":{"line":34,"column":2},"end":{"line":35,"column":19}},"16":{"start":{"line":35,"column":4},"end":{"line":35,"column":19}},"17":{"start":{"line":36,"column":2},"end":{"line":36,"column":15}},"18":{"start":{"line":42,"column":0},"end":{"line":68,"column":1}},"19":{"start":{"line":43,"column":2},"end":{"line":43,"column":23}},"20":{"start":{"line":45,"column":2},"end":{"line":66,"column":5}},"21":{"start":{"line":47,"column":4},"end":{"line":49,"column":6}},"22":{"start":{"line":54,"column":4},"end":{"line":56,"column":67}},"23":{"start":{"line":56,"column":6},"end":{"line":56,"column":67}},"24":{"start":{"line":61,"column":4},"end":{"line":64,"column":41}},"25":{"start":{"line":62,"column":6},"end":{"line":62,"column":73}},"26":{"start":{"line":64,"column":6},"end":{"line":64,"column":41}},"27":{"start":{"line":67,"column":2},"end":{"line":67,"column":21}},"28":{"start":{"line":73,"column":0},"end":{"line":79,"column":1}},"29":{"start":{"line":74,"column":2},"end":{"line":78,"column":5}},"30":{"start":{"line":75,"column":4},"end":{"line":77,"column":5}},"31":{"start":{"line":76,"column":6},"end":{"line":76,"column":68}},"32":{"start":{"line":81,"column":0},"end":{"line":106,"column":1}},"33":{"start":{"line":88,"column":2},"end":{"line":88,"column":22}},"34":{"start":{"line":90,"column":2},"end":{"line":91,"column":28}},"35":{"start":{"line":91,"column":4},"end":{"line":91,"column":28}},"36":{"start":{"line":93,"column":2},"end":{"line":99,"column":3}},"37":{"start":{"line":97,"column":4},"end":{"line":97,"column":56}},"38":{"start":{"line":97,"column":26},"end":{"line":97,"column":56}},"39":{"start":{"line":98,"column":4},"end":{"line":98,"column":66}},"40":{"start":{"line":101,"column":2},"end":{"line":101,"column":60}},"41":{"start":{"line":101,"column":47},"end":{"line":101,"column":60}},"42":{"start":{"line":103,"column":2},"end":{"line":105,"column":3}},"43":{"start":{"line":104,"column":4},"end":{"line":104,"column":76}},"44":{"start":{"line":108,"column":0},"end":{"line":265,"column":2}},"45":{"start":{"line":109,"column":2},"end":{"line":109,"column":18}},"46":{"start":{"line":111,"column":2},"end":{"line":114,"column":35}},"47":{"start":{"line":112,"column":4},"end":{"line":112,"column":66}},"48":{"start":{"line":114,"column":4},"end":{"line":114,"column":35}},"49":{"start":{"line":116,"column":2},"end":{"line":128,"column":3}},"50":{"start":{"line":117,"column":4},"end":{"line":117,"column":26}},"51":{"start":{"line":119,"column":4},"end":{"line":125,"column":12}},"52":{"start":{"line":120,"column":6},"end":{"line":123,"column":9}},"53":{"start":{"line":124,"column":6},"end":{"line":124,"column":30}},"54":{"start":{"line":127,"column":4},"end":{"line":127,"column":23}},"55":{"start":{"line":130,"column":2},"end":{"line":264,"column":3}},"56":{"start":{"line":143,"column":6},"end":{"line":146,"column":7}},"57":{"start":{"line":144,"column":8},"end":{"line":144,"column":38}},"58":{"start":{"line":145,"column":8},"end":{"line":145,"column":43}},"59":{"start":{"line":148,"column":6},"end":{"line":150,"column":7}},"60":{"start":{"line":149,"column":8},"end":{"line":149,"column":65}},"61":{"start":{"line":152,"column":6},"end":{"line":154,"column":8}},"62":{"start":{"line":157,"column":6},"end":{"line":157,"column":64}},"63":{"start":{"line":159,"column":6},"end":{"line":160,"column":65}},"64":{"start":{"line":160,"column":8},"end":{"line":160,"column":65}},"65":{"start":{"line":161,"column":6},"end":{"line":162,"column":79}},"66":{"start":{"line":162,"column":8},"end":{"line":162,"column":79}},"67":{"start":{"line":164,"column":6},"end":{"line":167,"column":8}},"68":{"start":{"line":172,"column":6},"end":{"line":173,"column":42}},"69":{"start":{"line":173,"column":8},"end":{"line":173,"column":42}},"70":{"start":{"line":175,"column":6},"end":{"line":187,"column":8}},"71":{"start":{"line":177,"column":10},"end":{"line":177,"column":50}},"72":{"start":{"line":179,"column":10},"end":{"line":180,"column":28}},"73":{"start":{"line":180,"column":12},"end":{"line":180,"column":28}},"74":{"start":{"line":182,"column":10},"end":{"line":182,"column":23}},"75":{"start":{"line":185,"column":10},"end":{"line":185,"column":43}},"76":{"start":{"line":190,"column":6},"end":{"line":191,"column":68}},"77":{"start":{"line":191,"column":8},"end":{"line":191,"column":68}},"78":{"start":{"line":192,"column":6},"end":{"line":192,"column":52}},"79":{"start":{"line":193,"column":6},"end":{"line":193,"column":34}},"80":{"start":{"line":194,"column":6},"end":{"line":194,"column":64}},"81":{"start":{"line":196,"column":6},"end":{"line":197,"column":101}},"82":{"start":{"line":197,"column":8},"end":{"line":197,"column":101}},"83":{"start":{"line":198,"column":6},"end":{"line":199,"column":79}},"84":{"start":{"line":199,"column":8},"end":{"line":199,"column":79}},"85":{"start":{"line":201,"column":6},"end":{"line":201,"column":42}},"86":{"start":{"line":203,"column":6},"end":{"line":206,"column":8}},"87":{"start":{"line":204,"column":28},"end":{"line":204,"column":94}},"88":{"start":{"line":211,"column":6},"end":{"line":212,"column":42}},"89":{"start":{"line":212,"column":8},"end":{"line":212,"column":42}},"90":{"start":{"line":214,"column":6},"end":{"line":214,"column":23}},"91":{"start":{"line":217,"column":6},"end":{"line":217,"column":64}},"92":{"start":{"line":219,"column":6},"end":{"line":220,"column":64}},"93":{"start":{"line":220,"column":8},"end":{"line":220,"column":64}},"94":{"start":{"line":221,"column":6},"end":{"line":222,"column":79}},"95":{"start":{"line":222,"column":8},"end":{"line":222,"column":79}},"96":{"start":{"line":224,"column":6},"end":{"line":224,"column":34}},"97":{"start":{"line":226,"column":6},"end":{"line":226,"column":34}},"98":{"start":{"line":228,"column":6},"end":{"line":231,"column":8}},"99":{"start":{"line":229,"column":28},"end":{"line":229,"column":64}},"100":{"start":{"line":236,"column":6},"end":{"line":237,"column":42}},"101":{"start":{"line":237,"column":8},"end":{"line":237,"column":42}},"102":{"start":{"line":239,"column":6},"end":{"line":239,"column":19}},"103":{"start":{"line":242,"column":6},"end":{"line":242,"column":64}},"104":{"start":{"line":244,"column":6},"end":{"line":245,"column":66}},"105":{"start":{"line":245,"column":8},"end":{"line":245,"column":66}},"106":{"start":{"line":246,"column":6},"end":{"line":247,"column":79}},"107":{"start":{"line":247,"column":8},"end":{"line":247,"column":79}},"108":{"start":{"line":249,"column":6},"end":{"line":249,"column":34}},"109":{"start":{"line":251,"column":6},"end":{"line":254,"column":8}},"110":{"start":{"line":252,"column":28},"end":{"line":252,"column":49}},"111":{"start":{"line":259,"column":6},"end":{"line":260,"column":42}},"112":{"start":{"line":260,"column":8},"end":{"line":260,"column":42}},"113":{"start":{"line":262,"column":6},"end":{"line":262,"column":21}},"114":{"start":{"line":267,"column":0},"end":{"line":267,"column":23}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"3":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":33}},{"start":{"line":55,"column":8},"end":{"line":55,"column":43}}]},"4":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"5":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"6":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"7":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":2},"end":{"line":93,"column":2}},{"start":{"line":93,"column":2},"end":{"line":93,"column":2}}]},"8":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":6},"end":{"line":93,"column":10}},{"start":{"line":94,"column":6},"end":{"line":94,"column":17}},{"start":{"line":95,"column":6},"end":{"line":95,"column":28}}]},"9":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":4}},{"start":{"line":97,"column":4},"end":{"line":97,"column":4}}]},"10":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"11":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":16}},{"start":{"line":101,"column":20},"end":{"line":101,"column":45}}]},"12":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":2},"end":{"line":103,"column":2}},{"start":{"line":103,"column":2},"end":{"line":103,"column":2}}]},"13":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":6},"end":{"line":103,"column":40}},{"start":{"line":103,"column":44},"end":{"line":103,"column":74}}]},"14":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":2},"end":{"line":111,"column":2}},{"start":{"line":111,"column":2},"end":{"line":111,"column":2}}]},"15":{"line":111,"type":"binary-expr","locations":[{"start":{"line":111,"column":6},"end":{"line":111,"column":18}},{"start":{"line":111,"column":22},"end":{"line":111,"column":36}}]},"16":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":29},"end":{"line":112,"column":57}},{"start":{"line":112,"column":61},"end":{"line":112,"column":65}}]},"17":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":2},"end":{"line":116,"column":2}},{"start":{"line":116,"column":2},"end":{"line":116,"column":2}}]},"18":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":6},"end":{"line":143,"column":6}},{"start":{"line":143,"column":6},"end":{"line":143,"column":6}}]},"19":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":6},"end":{"line":148,"column":6}},{"start":{"line":148,"column":6},"end":{"line":148,"column":6}}]},"20":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":21},"end":{"line":157,"column":34}},{"start":{"line":157,"column":38},"end":{"line":157,"column":63}}]},"21":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":6},"end":{"line":159,"column":6}},{"start":{"line":159,"column":6},"end":{"line":159,"column":6}}]},"22":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":6},"end":{"line":161,"column":6}},{"start":{"line":161,"column":6},"end":{"line":161,"column":6}}]},"23":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":18},"end":{"line":165,"column":28}},{"start":{"line":165,"column":32},"end":{"line":165,"column":33}}]},"24":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":6},"end":{"line":172,"column":6}},{"start":{"line":172,"column":6},"end":{"line":172,"column":6}}]},"25":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":10},"end":{"line":179,"column":10}},{"start":{"line":179,"column":10},"end":{"line":179,"column":10}}]},"26":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":6},"end":{"line":190,"column":6}},{"start":{"line":190,"column":6},"end":{"line":190,"column":6}}]},"27":{"line":192,"type":"binary-expr","locations":[{"start":{"line":192,"column":25},"end":{"line":192,"column":41}},{"start":{"line":192,"column":45},"end":{"line":192,"column":51}}]},"28":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":18},"end":{"line":193,"column":27}},{"start":{"line":193,"column":31},"end":{"line":193,"column":33}}]},"29":{"line":194,"type":"binary-expr","locations":[{"start":{"line":194,"column":21},"end":{"line":194,"column":34}},{"start":{"line":194,"column":38},"end":{"line":194,"column":63}}]},"30":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":6},"end":{"line":196,"column":6}},{"start":{"line":196,"column":6},"end":{"line":196,"column":6}}]},"31":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":6},"end":{"line":198,"column":6}},{"start":{"line":198,"column":6},"end":{"line":198,"column":6}}]},"32":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":6},"end":{"line":211,"column":6}},{"start":{"line":211,"column":6},"end":{"line":211,"column":6}}]},"33":{"line":217,"type":"binary-expr","locations":[{"start":{"line":217,"column":21},"end":{"line":217,"column":34}},{"start":{"line":217,"column":38},"end":{"line":217,"column":63}}]},"34":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":6},"end":{"line":219,"column":6}},{"start":{"line":219,"column":6},"end":{"line":219,"column":6}}]},"35":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":6},"end":{"line":221,"column":6}},{"start":{"line":221,"column":6},"end":{"line":221,"column":6}}]},"36":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":18},"end":{"line":224,"column":27}},{"start":{"line":224,"column":31},"end":{"line":224,"column":33}}]},"37":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":6},"end":{"line":236,"column":6}},{"start":{"line":236,"column":6},"end":{"line":236,"column":6}}]},"38":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":21},"end":{"line":242,"column":34}},{"start":{"line":242,"column":38},"end":{"line":242,"column":63}}]},"39":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":6},"end":{"line":244,"column":6}},{"start":{"line":244,"column":6},"end":{"line":244,"column":6}}]},"40":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":6},"end":{"line":246,"column":6}},{"start":{"line":246,"column":6},"end":{"line":246,"column":6}}]},"41":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":6},"end":{"line":259,"column":6}},{"start":{"line":259,"column":6},"end":{"line":259,"column":6}}]}},"code":["","var Counter   = require('./utils/probes/Counter.js');","var Histogram = require('./utils/probes/Histogram.js');","var Meter     = require('./utils/probes/Meter.js');","var Alert     = require('./utils/alert.js');","","var Transport = require('./utils/transport.js');","","var debug     = require('debug')('axm:probe');","var util      = require('util');","var Probe = {};","","Probe._started = false;","Probe._var     = {};","","Probe.AVAILABLE_AGG_TYPES  = ['avg', 'min', 'max', 'sum', 'none'];","Probe.AVAILABLE_MEASUREMENTS = [","  'min',","  'max',","  'sum',","  'count',","  'variance',","  'mean',","  'stddev',","  'median',","  'p75',","  'p95',","  'p99',","  'p999'","];","Probe.default_aggregation     = 'avg';","","function getValue(value) {","  if (typeof(value) == 'function')","    return value();","  return value;","}","","/**"," * Data that will be sent to Keymetrics"," */","function cookData(data) {","  var cooked_data = {};","","  Object.keys(data).forEach(function(probe_name) {","","    cooked_data[probe_name] = {","      value: getValue(data[probe_name].value)","    };","","    /**","     * Attach aggregation mode","     */","    if (data[probe_name].agg_type &&","        data[probe_name].agg_type != 'none')","      cooked_data[probe_name].agg_type = data[probe_name].agg_type;","","    /**","     * Attach Alert configuration","     */","    if (data[probe_name].alert)","      cooked_data[probe_name].alert = data[probe_name].alert.serialize();","    else","      cooked_data[probe_name].alert = {};","","  });","  return cooked_data;","};","","/**"," * Tick system for Alerts"," */","function checkIssues(data) {","  Object.keys(data).forEach(function(probe_name) {","    if (typeof(data[probe_name].alert) !== 'undefined') {","      data[probe_name].alert.tick(getValue(data[probe_name].value));","    }","  });","};","","function attachAlert(opts, conf) {","  /**","   * pm2 set module-name:probes:probe_name:value    20","   * pm2 set module-name:probes:probe_name:mode     'threshold-avg'","   * pm2 set module-name:probes:probe_name:cmp      '<'","   * pm2 set module-name:probes:probe_name:interval 20","   */","  var alert_opts = {};","","  if (opts.alert)","    alert_opts = opts.alert;","","  if (conf &&","      conf.probes &&","      conf.probes[opts.name]) {","    // Default mode","    if (!alert_opts.mode) alert_opts.mode = 'threshold';","    alert_opts = util._extend(alert_opts, conf.probes[opts.name]);","  }","","  if (alert_opts && alert_opts.mode == 'none') return false;","","  if (Object.keys(alert_opts).length > 0 && Probe._alert_activated == true) {","    Probe._var[opts.name].alert = new Alert(alert_opts, {name : opts.name});","  }","}","","Probe.probe = function() {","  var self = this;","  // Get module configuration to enable alerts","  if (this.getConf && this.getConf())","    Probe._alert_activated = this.getConf().alert_enabled || true;","  else","    Probe._alert_activated = false;","","  if (Probe._started == false) {","    Probe._started = true;","","    var p_interval = setInterval(function() {","      Transport.send({","        type : 'axm:monitor',","        data : cookData(Probe._var)","      });","      checkIssues(Probe._var);","    }, 990);","","    p_interval.unref();","  }","","  return {","    /**","     * This reflect data to keymetrics","     * pmx.transpose('prop name', fn)","     *","     * or","     *","     * pmx.transpose({","     *   name : 'variable name',","     *   data : function() { return value }","     * });","     */","    transpose : function(variable_name, reporter) {","      if (typeof variable_name === 'object') {","        reporter = variable_name.data;","        variable_name = variable_name.name;","      }","","      if (typeof reporter !== 'function') {","        return console.error('[PMX] reporter is not a function');","      }","","      Probe._var[variable_name] = {","        value: reporter","      };","    },","    metric : function(opts) {","      var agg_type = opts.agg_type || Probe.default_aggregation;","","      if (!opts.name)","        return console.error('[Probe][Metric] Name not defined');","      if (Probe.AVAILABLE_AGG_TYPES.indexOf(agg_type) == -1)","        return console.error(\"[Probe][Metric] Unknown agg_type: %s\", agg_type);","","      Probe._var[opts.name] = {","        value   : opts.value || 0,","        agg_type: agg_type","      };","","      /**","       * Attach alert to: Probe._var[opts.name].alert","       */","      if (self.getConf)","        attachAlert(opts, self.getConf());","","      return {","        val : function() {","          var value = Probe._var[opts.name].value;","","          if (typeof(value) == 'function')","            value = value();","","          return value;","        },","        set : function(dt) {","          Probe._var[opts.name].value = dt;","        }","      };","    },","    histogram : function(opts) {","      if (!opts.name)","        return console.error('[Probe][Histogram] Name not defined');","      opts.measurement = opts.measurement || 'mean';","      opts.unit = opts.unit || '';","      var agg_type = opts.agg_type || Probe.default_aggregation;","","      if (Probe.AVAILABLE_MEASUREMENTS.indexOf(opts.measurement) == -1)","        return console.error('[Probe][Histogram] Measure type %s does not exists', opts.measurement);","      if (Probe.AVAILABLE_AGG_TYPES.indexOf(agg_type) == -1)","        return console.error(\"[Probe][Metric] Unknown agg_type: %s\", agg_type);","","      var histogram = new Histogram(opts);","","      Probe._var[opts.name] = {","        value: function() { return (Math.round(histogram.val() * 100) / 100) + '' + opts.unit },","        agg_type: agg_type","      };","","      /**","       * Attach alert to: Probe._var[opts.name].alert","       */","      if (self.getConf)","        attachAlert(opts, self.getConf());","","      return histogram;","    },","    meter : function(opts) {","      var agg_type = opts.agg_type || Probe.default_aggregation;","","      if (!opts.name)","        return console.error('[Probe][Meter] Name not defined');","      if (Probe.AVAILABLE_AGG_TYPES.indexOf(agg_type) == -1)","        return console.error(\"[Probe][Metric] Unknown agg_type: %s\", agg_type);","","      opts.unit = opts.unit || '';","","      var meter = new Meter(opts);","","      Probe._var[opts.name] = {","        value: function() { return meter.val() + '' + opts.unit },","        agg_type: agg_type","      };","","      /**","       * Attach alert to: Probe._var[opts.name].alert","       */","      if (self.getConf)","        attachAlert(opts, self.getConf());","","      return meter;","    },","    counter : function(opts) {","      var agg_type = opts.agg_type || Probe.default_aggregation;","","      if (!opts.name)","        return console.error('[Probe][Counter] Name not defined');","      if (Probe.AVAILABLE_AGG_TYPES.indexOf(agg_type) == -1)","        return console.error(\"[Probe][Metric] Unknown agg_type: %s\", agg_type);","","      var counter = new Counter();","","      Probe._var[opts.name] = {","        value: function() { return counter.val() },","        agg_type: agg_type","      };","","      /**","       * Attach alert to: Probe._var[opts.name].alert","       */","      if (self.getConf)","        attachAlert(opts, self.getConf());","","      return counter;","    }","  }","};","","module.exports = Probe;",""],"l":{"2":1,"3":1,"4":1,"5":1,"7":1,"9":1,"10":1,"11":1,"13":1,"14":1,"16":1,"17":1,"31":1,"33":1,"34":0,"35":0,"36":0,"42":1,"43":0,"45":0,"47":0,"54":0,"56":0,"61":0,"62":0,"64":0,"67":0,"73":1,"74":0,"75":0,"76":0,"81":1,"88":0,"90":0,"91":0,"93":0,"97":0,"98":0,"101":0,"103":0,"104":0,"108":1,"109":0,"111":0,"112":0,"114":0,"116":0,"117":0,"119":0,"120":0,"124":0,"127":0,"130":0,"143":0,"144":0,"145":0,"148":0,"149":0,"152":0,"157":0,"159":0,"160":0,"161":0,"162":0,"164":0,"172":0,"173":0,"175":0,"177":0,"179":0,"180":0,"182":0,"185":0,"190":0,"191":0,"192":0,"193":0,"194":0,"196":0,"197":0,"198":0,"199":0,"201":0,"203":0,"204":0,"211":0,"212":0,"214":0,"217":0,"219":0,"220":0,"221":0,"222":0,"224":0,"226":0,"228":0,"229":0,"236":0,"237":0,"239":0,"242":0,"244":0,"245":0,"246":0,"247":0,"249":0,"251":0,"252":0,"259":0,"260":0,"262":0,"267":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Counter.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Counter.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"Counter","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":24},"end":{"line":12,"column":35}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":36}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":36}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":42}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"2":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":7,"column":2},"end":{"line":7,"column":20}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":32}},"5":{"start":{"line":12,"column":0},"end":{"line":14,"column":2}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":21}},"7":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"8":{"start":{"line":17,"column":2},"end":{"line":17,"column":26}},"9":{"start":{"line":20,"column":0},"end":{"line":22,"column":2}},"10":{"start":{"line":21,"column":2},"end":{"line":21,"column":26}},"11":{"start":{"line":24,"column":0},"end":{"line":26,"column":2}},"12":{"start":{"line":25,"column":2},"end":{"line":25,"column":27}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":9},"end":{"line":7,"column":13}},{"start":{"line":7,"column":17},"end":{"line":7,"column":19}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":16},"end":{"line":9,"column":26}},{"start":{"line":9,"column":30},"end":{"line":9,"column":31}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},{"start":{"line":17,"column":23},"end":{"line":17,"column":24}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":18},"end":{"line":21,"column":19}},{"start":{"line":21,"column":23},"end":{"line":21,"column":24}}]},"5":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":16},"end":{"line":25,"column":21}},{"start":{"line":25,"column":25},"end":{"line":25,"column":26}}]}},"code":["","// Hacked from https://github.com/felixge/node-measured","","module.exports = Counter;","","function Counter(opts) {","  opts = opts || {};","","  this._count = opts.count || 0;","}","","Counter.prototype.val = function() {","  return this._count;","};","","Counter.prototype.inc = function(n) {","  this._count += (n || 1);","};","","Counter.prototype.dec = function(n) {","  this._count -= (n || 1);","};","","Counter.prototype.reset = function(count) {","  this._count = count || 0;","};",""],"l":{"4":1,"6":1,"7":0,"9":0,"12":1,"13":0,"16":1,"17":0,"20":1,"21":0,"24":1,"25":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Histogram.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Histogram.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":1,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1,"57":0,"58":1,"59":0,"60":1,"61":0,"62":1,"63":0,"64":1,"65":0,"66":0,"67":1,"68":0,"69":0,"70":1,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":1,"87":0,"88":1,"89":0,"90":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"Histogram","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":31}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":29},"end":{"line":55,"column":45}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":34},"end":{"line":66,"column":56}}},"5":{"name":"(anonymous_5)","line":69,"loc":{"start":{"line":69,"column":14},"end":{"line":69,"column":29}}},"6":{"name":"(anonymous_6)","line":101,"loc":{"start":{"line":101,"column":28},"end":{"line":101,"column":39}}},"7":{"name":"(anonymous_7)","line":105,"loc":{"start":{"line":105,"column":26},"end":{"line":105,"column":37}}},"8":{"name":"(anonymous_8)","line":112,"loc":{"start":{"line":112,"column":29},"end":{"line":112,"column":40}}},"9":{"name":"(anonymous_9)","line":116,"loc":{"start":{"line":116,"column":29},"end":{"line":116,"column":40}}},"10":{"name":"(anonymous_10)","line":120,"loc":{"start":{"line":120,"column":29},"end":{"line":120,"column":40}}},"11":{"name":"(anonymous_11)","line":124,"loc":{"start":{"line":124,"column":31},"end":{"line":124,"column":42}}},"12":{"name":"(anonymous_12)","line":128,"loc":{"start":{"line":128,"column":29},"end":{"line":128,"column":40}}},"13":{"name":"(anonymous_13)","line":132,"loc":{"start":{"line":132,"column":34},"end":{"line":132,"column":45}}},"14":{"name":"(anonymous_14)","line":152,"loc":{"start":{"line":152,"column":33},"end":{"line":152,"column":49}}},"15":{"name":"(anonymous_15)","line":159,"loc":{"start":{"line":159,"column":33},"end":{"line":159,"column":49}}},"16":{"name":"(anonymous_16)","line":165,"loc":{"start":{"line":165,"column":38},"end":{"line":165,"column":54}}},"17":{"name":"(anonymous_17)","line":174,"loc":{"start":{"line":174,"column":33},"end":{"line":174,"column":49}}},"18":{"name":"(anonymous_18)","line":180,"loc":{"start":{"line":180,"column":37},"end":{"line":180,"column":48}}},"19":{"name":"(anonymous_19)","line":186,"loc":{"start":{"line":186,"column":41},"end":{"line":186,"column":52}}},"20":{"name":"(anonymous_20)","line":192,"loc":{"start":{"line":192,"column":39},"end":{"line":192,"column":50}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":53,"column":1}},"3":{"start":{"line":7,"column":2},"end":{"line":7,"column":18}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":20}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":39}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":27}},"7":{"start":{"line":14,"column":2},"end":{"line":23,"column":4}},"8":{"start":{"line":25,"column":2},"end":{"line":41,"column":3}},"9":{"start":{"line":26,"column":4},"end":{"line":26,"column":47}},"10":{"start":{"line":28,"column":4},"end":{"line":40,"column":5}},"11":{"start":{"line":29,"column":6},"end":{"line":29,"column":73}},"12":{"start":{"line":31,"column":6},"end":{"line":37,"column":8}},"13":{"start":{"line":39,"column":6},"end":{"line":39,"column":40}},"14":{"start":{"line":42,"column":2},"end":{"line":42,"column":31}},"15":{"start":{"line":43,"column":2},"end":{"line":43,"column":26}},"16":{"start":{"line":44,"column":2},"end":{"line":44,"column":26}},"17":{"start":{"line":45,"column":2},"end":{"line":45,"column":23}},"18":{"start":{"line":46,"column":2},"end":{"line":46,"column":23}},"19":{"start":{"line":50,"column":2},"end":{"line":50,"column":22}},"20":{"start":{"line":51,"column":2},"end":{"line":51,"column":22}},"21":{"start":{"line":52,"column":2},"end":{"line":52,"column":16}},"22":{"start":{"line":55,"column":0},"end":{"line":64,"column":2}},"23":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}},"24":{"start":{"line":57,"column":2},"end":{"line":57,"column":21}},"25":{"start":{"line":59,"column":2},"end":{"line":59,"column":29}},"26":{"start":{"line":60,"column":2},"end":{"line":60,"column":25}},"27":{"start":{"line":61,"column":2},"end":{"line":61,"column":25}},"28":{"start":{"line":62,"column":2},"end":{"line":62,"column":30}},"29":{"start":{"line":63,"column":2},"end":{"line":63,"column":25}},"30":{"start":{"line":66,"column":0},"end":{"line":99,"column":2}},"31":{"start":{"line":67,"column":2},"end":{"line":73,"column":11}},"32":{"start":{"line":70,"column":10},"end":{"line":72,"column":20}},"33":{"start":{"line":75,"column":2},"end":{"line":75,"column":19}},"34":{"start":{"line":77,"column":2},"end":{"line":96,"column":3}},"35":{"start":{"line":78,"column":4},"end":{"line":78,"column":36}},"36":{"start":{"line":79,"column":4},"end":{"line":82,"column":5}},"37":{"start":{"line":80,"column":6},"end":{"line":80,"column":33}},"38":{"start":{"line":81,"column":6},"end":{"line":81,"column":15}},"39":{"start":{"line":84,"column":4},"end":{"line":84,"column":54}},"40":{"start":{"line":86,"column":4},"end":{"line":95,"column":5}},"41":{"start":{"line":87,"column":6},"end":{"line":87,"column":38}},"42":{"start":{"line":88,"column":11},"end":{"line":95,"column":5}},"43":{"start":{"line":89,"column":6},"end":{"line":89,"column":54}},"44":{"start":{"line":91,"column":6},"end":{"line":91,"column":46}},"45":{"start":{"line":92,"column":6},"end":{"line":92,"column":45}},"46":{"start":{"line":94,"column":6},"end":{"line":94,"column":78}},"47":{"start":{"line":98,"column":2},"end":{"line":98,"column":17}},"48":{"start":{"line":101,"column":0},"end":{"line":103,"column":2}},"49":{"start":{"line":102,"column":2},"end":{"line":102,"column":30}},"50":{"start":{"line":105,"column":0},"end":{"line":110,"column":2}},"51":{"start":{"line":106,"column":2},"end":{"line":109,"column":25}},"52":{"start":{"line":107,"column":4},"end":{"line":107,"column":27}},"53":{"start":{"line":109,"column":4},"end":{"line":109,"column":25}},"54":{"start":{"line":112,"column":0},"end":{"line":114,"column":2}},"55":{"start":{"line":113,"column":2},"end":{"line":113,"column":19}},"56":{"start":{"line":116,"column":0},"end":{"line":118,"column":2}},"57":{"start":{"line":117,"column":2},"end":{"line":117,"column":19}},"58":{"start":{"line":120,"column":0},"end":{"line":122,"column":2}},"59":{"start":{"line":121,"column":2},"end":{"line":121,"column":19}},"60":{"start":{"line":124,"column":0},"end":{"line":126,"column":2}},"61":{"start":{"line":125,"column":2},"end":{"line":125,"column":21}},"62":{"start":{"line":128,"column":0},"end":{"line":130,"column":1}},"63":{"start":{"line":129,"column":2},"end":{"line":129,"column":19}},"64":{"start":{"line":132,"column":0},"end":{"line":150,"column":2}},"65":{"start":{"line":133,"column":2},"end":{"line":133,"column":69}},"66":{"start":{"line":135,"column":2},"end":{"line":149,"column":4}},"67":{"start":{"line":152,"column":0},"end":{"line":157,"column":2}},"68":{"start":{"line":153,"column":2},"end":{"line":156,"column":3}},"69":{"start":{"line":154,"column":4},"end":{"line":154,"column":22}},"70":{"start":{"line":159,"column":0},"end":{"line":163,"column":2}},"71":{"start":{"line":160,"column":2},"end":{"line":162,"column":3}},"72":{"start":{"line":161,"column":4},"end":{"line":161,"column":22}},"73":{"start":{"line":165,"column":0},"end":{"line":172,"column":2}},"74":{"start":{"line":166,"column":2},"end":{"line":166,"column":56}},"75":{"start":{"line":166,"column":25},"end":{"line":166,"column":56}},"76":{"start":{"line":168,"column":2},"end":{"line":168,"column":29}},"77":{"start":{"line":170,"column":2},"end":{"line":170,"column":52}},"78":{"start":{"line":171,"column":2},"end":{"line":171,"column":66}},"79":{"start":{"line":174,"column":0},"end":{"line":178,"column":1}},"80":{"start":{"line":175,"column":2},"end":{"line":175,"column":65}},"81":{"start":{"line":175,"column":24},"end":{"line":175,"column":65}},"82":{"start":{"line":176,"column":2},"end":{"line":176,"column":36}},"83":{"start":{"line":177,"column":2},"end":{"line":177,"column":54}},"84":{"start":{"line":180,"column":0},"end":{"line":184,"column":2}},"85":{"start":{"line":181,"column":2},"end":{"line":183,"column":30}},"86":{"start":{"line":186,"column":0},"end":{"line":190,"column":2}},"87":{"start":{"line":187,"column":2},"end":{"line":189,"column":42}},"88":{"start":{"line":192,"column":0},"end":{"line":196,"column":2}},"89":{"start":{"line":193,"column":2},"end":{"line":195,"column":43}},"90":{"start":{"line":198,"column":0},"end":{"line":198,"column":27}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":9},"end":{"line":9,"column":13}},{"start":{"line":9,"column":17},"end":{"line":9,"column":19}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"3":{"line":70,"type":"cond-expr","locations":[{"start":{"line":71,"column":14},"end":{"line":71,"column":15}},{"start":{"line":72,"column":14},"end":{"line":72,"column":19}}]},"4":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"5":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"6":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":11},"end":{"line":88,"column":11}},{"start":{"line":88,"column":11},"end":{"line":88,"column":11}}]},"7":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":2},"end":{"line":106,"column":2}},{"start":{"line":106,"column":2},"end":{"line":106,"column":2}}]},"8":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":2},"end":{"line":153,"column":2}},{"start":{"line":153,"column":2},"end":{"line":153,"column":2}}]},"9":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":6},"end":{"line":153,"column":24}},{"start":{"line":153,"column":28},"end":{"line":153,"column":45}}]},"10":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":2},"end":{"line":160,"column":2}},{"start":{"line":160,"column":2},"end":{"line":160,"column":2}}]},"11":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":6},"end":{"line":160,"column":24}},{"start":{"line":160,"column":28},"end":{"line":160,"column":45}}]},"12":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":2},"end":{"line":166,"column":2}},{"start":{"line":166,"column":2},"end":{"line":166,"column":2}}]},"13":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":2},"end":{"line":175,"column":2}},{"start":{"line":175,"column":2},"end":{"line":175,"column":2}}]},"14":{"line":181,"type":"cond-expr","locations":[{"start":{"line":182,"column":6},"end":{"line":182,"column":7}},{"start":{"line":183,"column":6},"end":{"line":183,"column":29}}]},"15":{"line":187,"type":"cond-expr","locations":[{"start":{"line":188,"column":6},"end":{"line":188,"column":10}},{"start":{"line":189,"column":6},"end":{"line":189,"column":41}}]},"16":{"line":193,"type":"cond-expr","locations":[{"start":{"line":194,"column":6},"end":{"line":194,"column":10}},{"start":{"line":195,"column":6},"end":{"line":195,"column":42}}]}},"code":["","// Hacked from https://github.com/felixge/node-measured","","var EDS = require('../EDS.js');","","function Histogram(opts) {","  var self = this;","","  opts = opts || {};","","  this._measurement = opts.measurement;","  this._call_fn     = null;","","  var methods = {","    min      : this.getMin,","    max      : this.getMax,","    sum      : this.getSum,","    count    : this.getCount,","    variance : this._calculateVariance,","    mean     : this._calculateMean,","    stddev   : this._calculateStddev,","    ema      : this.getEma()","  };","","  if (methods[this._measurement])","    this._call_fn = methods[this._measurement];","  else {","    this._call_fn = function() {","      var percentiles = this.percentiles([0.5, 0.75, 0.95, 0.99, 0.999]);","","      var medians = {","        median   : percentiles[0.5],","        p75      : percentiles[0.75],","        p95      : percentiles[0.95],","        p99      : percentiles[0.99],","        p999     : percentiles[0.999]","      };","","      return medians[this._measurement];","    }","  }","  this._sample     = new EDS();","  this._min        = null;","  this._max        = null;","  this._count      = 0;","  this._sum        = 0;","","  // These are for the Welford algorithm for calculating running variance","  // without floating-point doom.","  this._varianceM = 0;","  this._varianceS = 0;","  this._ema = 0;","}","","Histogram.prototype.update = function(value) {","  this._count++;","  this._sum += value;","","  this._sample.update(value);","  this._updateMin(value);","  this._updateMax(value);","  this._updateVariance(value);","  this._updateEma(value);","};","","Histogram.prototype.percentiles = function(percentiles) {","  var values = this._sample","        .toArray()","        .sort(function(a, b) {","          return (a === b)","            ? 0","            : a - b;","        });","","  var results = {};","","  for (var i = 0; i < percentiles.length; i++) {","    var percentile = percentiles[i];","    if (!values.length) {","      results[percentile] = null;","      continue;","    }","","    var pos        = percentile * (values.length + 1);","","    if (pos < 1) {","      results[percentile] = values[0];","    } else if (pos >= values.length) {","      results[percentile] = values[values.length - 1];","    } else {","      var lower = values[Math.floor(pos) - 1];","      var upper = values[Math.ceil(pos) - 1];","","      results[percentile] = lower + (pos - Math.floor(pos)) * (upper - lower);","    }","  }","","  return results;","};","","Histogram.prototype.reset = function() {","  this.constructor.call(this);","};","","Histogram.prototype.val = function() {","  if (typeof(this._call_fn) === 'function')","    return this._call_fn();","  else","    return this._call_fn;","};","","Histogram.prototype.getMin = function() {","  return this._min;","};","","Histogram.prototype.getMax = function() {","  return this._max;","};","","Histogram.prototype.getSum = function() {","  return this._sum;","};","","Histogram.prototype.getCount = function() {","  return this._count;","};","","Histogram.prototype.getEma = function() {","  return this._ema;","}","","Histogram.prototype.fullResults = function() {","  var percentiles = this.percentiles([0.5, 0.75, 0.95, 0.99, 0.999]);","","  return {","    min      : this._min,","    max      : this._max,","    sum      : this._sum,","    variance : this._calculateVariance(),","    mean     : this._calculateMean(),","    stddev   : this._calculateStddev(),","    count    : this._count,","    median   : percentiles[0.5],","    p75      : percentiles[0.75],","    p95      : percentiles[0.95],","    p99      : percentiles[0.99],","    p999     : percentiles[0.999],","    ema      : this._ema","  };","};","","Histogram.prototype._updateMin = function(value) {","  if (this._min === null || value < this._min) {","    this._min = value;","    //console.log(value);","  }","};","","Histogram.prototype._updateMax = function(value) {","  if (this._max === null || value > this._max) {","    this._max = value;","  }","};","","Histogram.prototype._updateVariance = function(value) {","  if (this._count === 1) return this._varianceM = value;","","  var oldM = this._varianceM;","","  this._varianceM += ((value - oldM) / this._count);","  this._varianceS += ((value - oldM) * (value - this._varianceM));","};","","Histogram.prototype._updateEma = function(value) {","  if (this._count <= 1) return this._ema = this._calculateMean();","  var alpha = 2 / (1 + this._count);","  this._ema = value * alpha + this._ema * (1 - alpha);","}","","Histogram.prototype._calculateMean = function() {","  return (this._count === 0)","    ? 0","    : this._sum / this._count;","};","","Histogram.prototype._calculateVariance = function() {","  return (this._count <= 1)","    ? null","    : this._varianceS / (this._count - 1);","};","","Histogram.prototype._calculateStddev = function() {","  return (this._count < 1)","    ? null","    : Math.sqrt(this._calculateVariance());","};","","module.exports = Histogram;",""],"l":{"4":1,"6":1,"7":0,"9":0,"11":0,"12":0,"14":0,"25":0,"26":0,"28":0,"29":0,"31":0,"39":0,"42":0,"43":0,"44":0,"45":0,"46":0,"50":0,"51":0,"52":0,"55":1,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"66":1,"67":0,"70":0,"75":0,"77":0,"78":0,"79":0,"80":0,"81":0,"84":0,"86":0,"87":0,"88":0,"89":0,"91":0,"92":0,"94":0,"98":0,"101":1,"102":0,"105":1,"106":0,"107":0,"109":0,"112":1,"113":0,"116":1,"117":0,"120":1,"121":0,"124":1,"125":0,"128":1,"129":0,"132":1,"133":0,"135":0,"152":1,"153":0,"154":0,"159":1,"160":0,"161":0,"165":1,"166":0,"168":0,"170":0,"171":0,"174":1,"175":0,"176":0,"177":0,"180":1,"181":0,"186":1,"187":0,"192":1,"193":0,"198":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/EDS.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/EDS.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1,"37":0,"38":0,"39":1,"40":0,"41":1,"42":0,"43":1,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"ExponentiallyDecayingSample","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":29}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":47},"end":{"line":30,"column":74}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":54},"end":{"line":56,"column":65}}},"5":{"name":"(anonymous_5)","line":59,"loc":{"start":{"line":59,"column":9},"end":{"line":59,"column":27}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":48},"end":{"line":65,"column":59}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":9},"end":{"line":68,"column":27}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":48},"end":{"line":73,"column":62}}},"9":{"name":"(anonymous_9)","line":79,"loc":{"start":{"line":79,"column":50},"end":{"line":79,"column":64}}},"10":{"name":"(anonymous_10)","line":83,"loc":{"start":{"line":83,"column":48},"end":{"line":83,"column":59}}},"11":{"name":"(anonymous_11)","line":87,"loc":{"start":{"line":87,"column":49},"end":{"line":87,"column":63}}},"12":{"name":"(anonymous_12)","line":99,"loc":{"start":{"line":99,"column":13},"end":{"line":99,"column":31}}},"13":{"name":"(anonymous_13)","line":104,"loc":{"start":{"line":104,"column":44},"end":{"line":104,"column":58}}},"14":{"name":"(anonymous_14)","line":108,"loc":{"start":{"line":108,"column":13},"end":{"line":108,"column":31}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"4":{"start":{"line":8,"column":0},"end":{"line":24,"column":1}},"5":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"6":{"start":{"line":11,"column":2},"end":{"line":15,"column":5}},"7":{"start":{"line":13,"column":6},"end":{"line":13,"column":31}},"8":{"start":{"line":17,"column":2},"end":{"line":17,"column":98}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":77}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":75}},"11":{"start":{"line":20,"column":2},"end":{"line":20,"column":57}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":31}},"13":{"start":{"line":22,"column":2},"end":{"line":22,"column":31}},"14":{"start":{"line":23,"column":2},"end":{"line":23,"column":31}},"15":{"start":{"line":26,"column":0},"end":{"line":26,"column":63}},"16":{"start":{"line":27,"column":0},"end":{"line":27,"column":53}},"17":{"start":{"line":28,"column":0},"end":{"line":28,"column":52}},"18":{"start":{"line":30,"column":0},"end":{"line":54,"column":2}},"19":{"start":{"line":31,"column":2},"end":{"line":31,"column":23}},"20":{"start":{"line":32,"column":2},"end":{"line":35,"column":3}},"21":{"start":{"line":33,"column":4},"end":{"line":33,"column":28}},"22":{"start":{"line":34,"column":4},"end":{"line":34,"column":63}},"23":{"start":{"line":37,"column":2},"end":{"line":37,"column":31}},"24":{"start":{"line":39,"column":2},"end":{"line":39,"column":42}},"25":{"start":{"line":41,"column":2},"end":{"line":44,"column":4}},"26":{"start":{"line":46,"column":2},"end":{"line":51,"column":3}},"27":{"start":{"line":47,"column":4},"end":{"line":47,"column":32}},"28":{"start":{"line":48,"column":9},"end":{"line":51,"column":3}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":33}},"30":{"start":{"line":50,"column":4},"end":{"line":50,"column":32}},"31":{"start":{"line":53,"column":2},"end":{"line":53,"column":51}},"32":{"start":{"line":53,"column":32},"end":{"line":53,"column":51}},"33":{"start":{"line":56,"column":0},"end":{"line":62,"column":2}},"34":{"start":{"line":57,"column":2},"end":{"line":61,"column":7}},"35":{"start":{"line":60,"column":6},"end":{"line":60,"column":27}},"36":{"start":{"line":65,"column":0},"end":{"line":71,"column":2}},"37":{"start":{"line":66,"column":2},"end":{"line":70,"column":7}},"38":{"start":{"line":69,"column":6},"end":{"line":69,"column":27}},"39":{"start":{"line":73,"column":0},"end":{"line":77,"column":2}},"40":{"start":{"line":76,"column":2},"end":{"line":76,"column":46}},"41":{"start":{"line":79,"column":0},"end":{"line":81,"column":2}},"42":{"start":{"line":80,"column":2},"end":{"line":80,"column":44}},"43":{"start":{"line":83,"column":0},"end":{"line":85,"column":2}},"44":{"start":{"line":84,"column":2},"end":{"line":84,"column":23}},"45":{"start":{"line":87,"column":0},"end":{"line":102,"column":2}},"46":{"start":{"line":88,"column":2},"end":{"line":88,"column":40}},"47":{"start":{"line":90,"column":2},"end":{"line":90,"column":27}},"48":{"start":{"line":91,"column":2},"end":{"line":91,"column":37}},"49":{"start":{"line":92,"column":2},"end":{"line":92,"column":40}},"50":{"start":{"line":93,"column":2},"end":{"line":93,"column":50}},"51":{"start":{"line":95,"column":2},"end":{"line":95,"column":63}},"52":{"start":{"line":97,"column":2},"end":{"line":101,"column":7}},"53":{"start":{"line":100,"column":6},"end":{"line":100,"column":33}},"54":{"start":{"line":104,"column":0},"end":{"line":112,"column":1}},"55":{"start":{"line":105,"column":2},"end":{"line":105,"column":14}},"56":{"start":{"line":106,"column":2},"end":{"line":110,"column":7}},"57":{"start":{"line":109,"column":6},"end":{"line":109,"column":27}},"58":{"start":{"line":111,"column":2},"end":{"line":111,"column":39}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":12},"end":{"line":9,"column":19}},{"start":{"line":9,"column":23},"end":{"line":9,"column":25}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":26},"end":{"line":17,"column":49}},{"start":{"line":17,"column":53},"end":{"line":17,"column":97}}]},"3":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":26},"end":{"line":18,"column":39}},{"start":{"line":18,"column":43},"end":{"line":18,"column":76}}]},"4":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":26},"end":{"line":19,"column":38}},{"start":{"line":19,"column":42},"end":{"line":19,"column":74}}]},"5":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":26},"end":{"line":20,"column":40}},{"start":{"line":20,"column":44},"end":{"line":20,"column":56}}]},"6":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"7":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":14},"end":{"line":37,"column":23}},{"start":{"line":37,"column":27},"end":{"line":37,"column":30}}]},"8":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":46,"column":2}},{"start":{"line":46,"column":2},"end":{"line":46,"column":2}}]},"9":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":9},"end":{"line":48,"column":9}},{"start":{"line":48,"column":9},"end":{"line":48,"column":9}}]},"10":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"11":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":22},"end":{"line":88,"column":25}},{"start":{"line":88,"column":29},"end":{"line":88,"column":39}}]},"12":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":22},"end":{"line":92,"column":25}},{"start":{"line":92,"column":29},"end":{"line":92,"column":39}}]}},"code":["","// Hacked https://github.com/felixge/node-measured","","var BinaryHeap = require('./BinaryHeap');","var units      = require('./units');","","module.exports = ExponentiallyDecayingSample;","function ExponentiallyDecayingSample(options) {","  options = options || {};","","  this._elements = new BinaryHeap({","    score: function(element) {","      return -element.priority;","    }","  });","","  this._rescaleInterval = options.rescaleInterval || ExponentiallyDecayingSample.RESCALE_INTERVAL;","  this._alpha           = options.alpha || ExponentiallyDecayingSample.ALPHA;","  this._size            = options.size || ExponentiallyDecayingSample.SIZE;","  this._random          = options.random || this._random;","  this._landmark        = null;","  this._nextRescale     = null;","  this._mean            = null;","}","","ExponentiallyDecayingSample.RESCALE_INTERVAL = 1 * units.HOURS;","ExponentiallyDecayingSample.ALPHA            = 0.015;","ExponentiallyDecayingSample.SIZE             = 1028;","","ExponentiallyDecayingSample.prototype.update = function(value, timestamp) {","  var now = Date.now();","  if (!this._landmark) {","    this._landmark    = now;","    this._nextRescale = this._landmark + this._rescaleInterval;","  }","","  timestamp = timestamp || now;","","  var newSize = this._elements.size() + 1;","","  var element = {","    priority: this._priority(timestamp - this._landmark),","    value: value","  };","","  if (newSize <= this._size) {","    this._elements.add(element);","  } else if (element.priority > this._elements.first().priority) {","    this._elements.removeFirst();","    this._elements.add(element);","  }","","  if (now >= this._nextRescale) this._rescale(now);","};","","ExponentiallyDecayingSample.prototype.toSortedArray = function() {","  return this._elements","    .toSortedArray()","    .map(function(element) {","      return element.value;","    });","};","","","ExponentiallyDecayingSample.prototype.toArray = function() {","  return this._elements","    .toArray()","    .map(function(element) {","      return element.value;","    });","};","","ExponentiallyDecayingSample.prototype._weight = function(age) {","  // We divide by 1000 to not run into huge numbers before reaching a","  // rescale event.","  return Math.exp(this._alpha * (age / 1000));","};","","ExponentiallyDecayingSample.prototype._priority = function(age) {","  return this._weight(age) / this._random();","};","","ExponentiallyDecayingSample.prototype._random = function() {","  return Math.random();","};","","ExponentiallyDecayingSample.prototype._rescale = function(now) {","  now               = now || Date.now();","","  var self          = this;","  var oldLandmark   = this._landmark;","  this._landmark    = now || Date.now();","  this._nextRescale = now + this._rescaleInterval;","","  var factor = self._priority(-(self._landmark - oldLandmark));","","  this._elements","    .toArray()","    .forEach(function(element) {","      element.priority *= factor;","    });","};","","ExponentiallyDecayingSample.prototype.avg = function(now) {","  var sum = 0;","  this._elements","    .toArray()","    .forEach(function(element) {","      sum += element.value;","    });","  return (sum / this._elements.size());","}",""],"l":{"4":1,"5":1,"7":1,"8":1,"9":0,"11":0,"13":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":1,"27":1,"28":1,"30":1,"31":0,"32":0,"33":0,"34":0,"37":0,"39":0,"41":0,"46":0,"47":0,"48":0,"49":0,"50":0,"53":0,"56":1,"57":0,"60":0,"65":1,"66":0,"69":0,"73":1,"76":0,"79":1,"80":0,"83":1,"84":0,"87":1,"88":0,"90":0,"91":0,"92":0,"93":0,"95":0,"97":0,"100":0,"104":1,"105":0,"106":0,"109":0,"111":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/BinaryHeap.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/BinaryHeap.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":1,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":1,"75":0,"76":0,"77":1,"78":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"BinaryHeap","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":52}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":29},"end":{"line":23,"column":40}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":35},"end":{"line":27,"column":46}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":29},"end":{"line":39,"column":40}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":37},"end":{"line":46,"column":48}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":31},"end":{"line":60,"column":42}}},"8":{"name":"(anonymous_8)","line":64,"loc":{"start":{"line":64,"column":28},"end":{"line":64,"column":39}}},"9":{"name":"(anonymous_9)","line":68,"loc":{"start":{"line":68,"column":31},"end":{"line":68,"column":53}}},"10":{"name":"(anonymous_10)","line":85,"loc":{"start":{"line":85,"column":29},"end":{"line":85,"column":49}}},"11":{"name":"(anonymous_11)","line":121,"loc":{"start":{"line":121,"column":36},"end":{"line":121,"column":52}}},"12":{"name":"(anonymous_12)","line":125,"loc":{"start":{"line":125,"column":37},"end":{"line":125,"column":53}}},"13":{"name":"(anonymous_13)","line":133,"loc":{"start":{"line":133,"column":30},"end":{"line":133,"column":48}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"4":{"start":{"line":10,"column":2},"end":{"line":10,"column":42}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":48}},"6":{"start":{"line":14,"column":0},"end":{"line":21,"column":2}},"7":{"start":{"line":15,"column":2},"end":{"line":20,"column":3}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":31}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":33}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":44}},"11":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":27}},"13":{"start":{"line":27,"column":0},"end":{"line":37,"column":2}},"14":{"start":{"line":28,"column":2},"end":{"line":28,"column":31}},"15":{"start":{"line":29,"column":2},"end":{"line":29,"column":34}},"16":{"start":{"line":31,"column":2},"end":{"line":34,"column":3}},"17":{"start":{"line":32,"column":4},"end":{"line":32,"column":29}},"18":{"start":{"line":33,"column":4},"end":{"line":33,"column":18}},"19":{"start":{"line":36,"column":2},"end":{"line":36,"column":14}},"20":{"start":{"line":39,"column":0},"end":{"line":44,"column":2}},"21":{"start":{"line":40,"column":2},"end":{"line":43,"column":5}},"22":{"start":{"line":46,"column":0},"end":{"line":58,"column":2}},"23":{"start":{"line":47,"column":2},"end":{"line":47,"column":17}},"24":{"start":{"line":48,"column":2},"end":{"line":48,"column":27}},"25":{"start":{"line":50,"column":2},"end":{"line":55,"column":3}},"26":{"start":{"line":51,"column":4},"end":{"line":51,"column":38}},"27":{"start":{"line":52,"column":4},"end":{"line":52,"column":37}},"28":{"start":{"line":52,"column":31},"end":{"line":52,"column":37}},"29":{"start":{"line":54,"column":4},"end":{"line":54,"column":24}},"30":{"start":{"line":57,"column":2},"end":{"line":57,"column":15}},"31":{"start":{"line":60,"column":0},"end":{"line":62,"column":2}},"32":{"start":{"line":61,"column":2},"end":{"line":61,"column":35}},"33":{"start":{"line":64,"column":0},"end":{"line":66,"column":2}},"34":{"start":{"line":65,"column":2},"end":{"line":65,"column":31}},"35":{"start":{"line":68,"column":0},"end":{"line":83,"column":2}},"36":{"start":{"line":69,"column":2},"end":{"line":69,"column":50}},"37":{"start":{"line":70,"column":2},"end":{"line":70,"column":49}},"38":{"start":{"line":72,"column":2},"end":{"line":82,"column":3}},"39":{"start":{"line":73,"column":4},"end":{"line":73,"column":55}},"40":{"start":{"line":74,"column":4},"end":{"line":74,"column":52}},"41":{"start":{"line":75,"column":4},"end":{"line":75,"column":51}},"42":{"start":{"line":77,"column":4},"end":{"line":77,"column":42}},"43":{"start":{"line":77,"column":36},"end":{"line":77,"column":42}},"44":{"start":{"line":79,"column":4},"end":{"line":79,"column":48}},"45":{"start":{"line":80,"column":4},"end":{"line":80,"column":49}},"46":{"start":{"line":81,"column":4},"end":{"line":81,"column":47}},"47":{"start":{"line":85,"column":0},"end":{"line":119,"column":2}},"48":{"start":{"line":86,"column":2},"end":{"line":86,"column":46}},"49":{"start":{"line":87,"column":2},"end":{"line":87,"column":45}},"50":{"start":{"line":88,"column":2},"end":{"line":88,"column":42}},"51":{"start":{"line":90,"column":2},"end":{"line":118,"column":3}},"52":{"start":{"line":91,"column":4},"end":{"line":91,"column":28}},"53":{"start":{"line":92,"column":4},"end":{"line":92,"column":28}},"54":{"start":{"line":93,"column":4},"end":{"line":93,"column":28}},"55":{"start":{"line":94,"column":4},"end":{"line":94,"column":53}},"56":{"start":{"line":96,"column":4},"end":{"line":111,"column":5}},"57":{"start":{"line":97,"column":6},"end":{"line":97,"column":41}},"58":{"start":{"line":99,"column":6},"end":{"line":99,"column":38}},"59":{"start":{"line":99,"column":32},"end":{"line":99,"column":38}},"60":{"start":{"line":101,"column":6},"end":{"line":101,"column":52}},"61":{"start":{"line":102,"column":6},"end":{"line":102,"column":51}},"62":{"start":{"line":104,"column":6},"end":{"line":110,"column":7}},"63":{"start":{"line":105,"column":8},"end":{"line":109,"column":9}},"64":{"start":{"line":106,"column":10},"end":{"line":106,"column":35}},"65":{"start":{"line":107,"column":10},"end":{"line":107,"column":35}},"66":{"start":{"line":108,"column":10},"end":{"line":108,"column":37}},"67":{"start":{"line":113,"column":4},"end":{"line":113,"column":34}},"68":{"start":{"line":113,"column":28},"end":{"line":113,"column":34}},"69":{"start":{"line":115,"column":4},"end":{"line":115,"column":44}},"70":{"start":{"line":116,"column":4},"end":{"line":116,"column":44}},"71":{"start":{"line":117,"column":4},"end":{"line":117,"column":26}},"72":{"start":{"line":121,"column":0},"end":{"line":123,"column":2}},"73":{"start":{"line":122,"column":2},"end":{"line":122,"column":37}},"74":{"start":{"line":125,"column":0},"end":{"line":131,"column":2}},"75":{"start":{"line":126,"column":2},"end":{"line":129,"column":4}},"76":{"start":{"line":130,"column":2},"end":{"line":130,"column":10}},"77":{"start":{"line":133,"column":0},"end":{"line":135,"column":2}},"78":{"start":{"line":134,"column":2},"end":{"line":134,"column":27}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":19}},{"start":{"line":8,"column":23},"end":{"line":8,"column":25}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":19},"end":{"line":10,"column":35}},{"start":{"line":10,"column":39},"end":{"line":10,"column":41}}]},"3":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":19},"end":{"line":11,"column":32}},{"start":{"line":11,"column":36},"end":{"line":11,"column":47}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"7":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":6},"end":{"line":99,"column":6}},{"start":{"line":99,"column":6},"end":{"line":99,"column":6}}]},"8":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":6},"end":{"line":104,"column":6}},{"start":{"line":104,"column":6},"end":{"line":104,"column":6}}]},"9":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"10":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":12},"end":{"line":105,"column":30}},{"start":{"line":105,"column":34},"end":{"line":105,"column":56}}]},"11":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]}},"code":["","// Hacked https://github.com/felixge/node-measured","","// Based on http://en.wikipedia.org/wiki/Binary_Heap","// as well as http://eloquentjavascript.net/appendix2.html","module.exports = BinaryHeap;","function BinaryHeap(options) {","  options = options || {};","","  this._elements = options.elements || [];","  this._score    = options.score || this._score;","}","","BinaryHeap.prototype.add = function(/* elements */) {","  for (var i = 0; i < arguments.length; i++) {","    var element = arguments[i];","","    this._elements.push(element);","    this._bubble(this._elements.length - 1);","  }","};","","BinaryHeap.prototype.first = function() {","  return this._elements[0];","};","","BinaryHeap.prototype.removeFirst = function() {","  var root = this._elements[0];","  var last = this._elements.pop();","","  if (this._elements.length > 0) {","    this._elements[0] = last;","    this._sink(0);","  }","","  return root;","};","","BinaryHeap.prototype.clone = function() {","  return new BinaryHeap({","    elements: this.toArray(),","    score: this._score,","  });","};","","BinaryHeap.prototype.toSortedArray = function() {","  var array = [];","  var clone = this.clone();","","  while (true) {","    var element = clone.removeFirst();","    if (element === undefined) break;","","    array.push(element);","  }","","  return array;","};","","BinaryHeap.prototype.toArray = function() {","  return [].concat(this._elements);","};","","BinaryHeap.prototype.size = function() {","  return this._elements.length;","};","","BinaryHeap.prototype._bubble = function(bubbleIndex) {","  var bubbleElement = this._elements[bubbleIndex];","  var bubbleScore   = this._score(bubbleElement);","","  while (bubbleIndex > 0) {","    var parentIndex   = this._parentIndex(bubbleIndex);","    var parentElement = this._elements[parentIndex];","    var parentScore   = this._score(parentElement);","","    if (bubbleScore <= parentScore) break;","","    this._elements[parentIndex] = bubbleElement;","    this._elements[bubbleIndex]  = parentElement;","    bubbleIndex                  = parentIndex;","  }","};","","BinaryHeap.prototype._sink = function(sinkIndex) {","  var sinkElement = this._elements[sinkIndex];","  var sinkScore   = this._score(sinkElement);","  var length      = this._elements.length;","","  while (true) {","    var swapIndex    = null;","    var swapScore    = null;","    var swapElement  = null;","    var childIndexes = this._childIndexes(sinkIndex);","","    for (var i = 0; i < childIndexes.length; i++) {","      var childIndex   = childIndexes[i];","","      if (childIndex >= length) break;","","      var childElement = this._elements[childIndex];","      var childScore   = this._score(childElement);","","      if (childScore > sinkScore) {","        if (swapScore === null || swapScore < childScore) {","          swapIndex   = childIndex;","          swapScore   = childScore;","          swapElement = childElement;","        }","      }","    }","","    if (swapIndex === null) break;","","    this._elements[swapIndex] = sinkElement;","    this._elements[sinkIndex] = swapElement;","    sinkIndex = swapIndex;","  }","};","","BinaryHeap.prototype._parentIndex = function(index) {","  return Math.floor((index - 1) / 2);","};","","BinaryHeap.prototype._childIndexes = function(index) {","  return [","    2 * index + 1,","    2 * index + 2,","  ];","  return ;","};","","BinaryHeap.prototype._score = function(element) {","  return element.valueOf();","};",""],"l":{"6":1,"7":1,"8":0,"10":0,"11":0,"14":1,"15":0,"16":0,"18":0,"19":0,"23":1,"24":0,"27":1,"28":0,"29":0,"31":0,"32":0,"33":0,"36":0,"39":1,"40":0,"46":1,"47":0,"48":0,"50":0,"51":0,"52":0,"54":0,"57":0,"60":1,"61":0,"64":1,"65":0,"68":1,"69":0,"70":0,"72":0,"73":0,"74":0,"75":0,"77":0,"79":0,"80":0,"81":0,"85":1,"86":0,"87":0,"88":0,"90":0,"91":0,"92":0,"93":0,"94":0,"96":0,"97":0,"99":0,"101":0,"102":0,"104":0,"105":0,"106":0,"107":0,"108":0,"113":0,"115":0,"116":0,"117":0,"121":1,"122":0,"125":1,"126":0,"130":0,"133":1,"134":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/units.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/units.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":44}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}}},"branchMap":{},"code":["// Time units, as found in Java:","// see: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html","exports.NANOSECONDS  = 1 / (1000 * 1000);","exports.MICROSECONDS = 1 / 1000;","exports.MILLISECONDS = 1;","exports.SECONDS      = 1000 * exports.MILLISECONDS;","exports.MINUTES      = 60 * exports.SECONDS;","exports.HOURS        = 60 * exports.MINUTES;","exports.DAYS         = 24 * exports.HOURS;",""],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Meter.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/probes/Meter.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":1,"19":0,"20":1},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"Meter","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":23},"end":{"line":28,"column":35}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":33}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"3":{"start":{"line":7,"column":0},"end":{"line":24,"column":1}},"4":{"start":{"line":8,"column":2},"end":{"line":8,"column":18}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":41}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":52}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":41}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":81}},"9":{"start":{"line":16,"column":2},"end":{"line":17,"column":17}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":17}},"11":{"start":{"line":19,"column":2},"end":{"line":21,"column":25}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":22}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":25}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":36}},"15":{"start":{"line":28,"column":0},"end":{"line":32,"column":2}},"16":{"start":{"line":29,"column":2},"end":{"line":29,"column":13}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":23}},"18":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":83}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":18},"end":{"line":11,"column":30}},{"start":{"line":11,"column":34},"end":{"line":11,"column":46}},{"start":{"line":11,"column":50},"end":{"line":11,"column":51}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":20},"end":{"line":12,"column":34}},{"start":{"line":12,"column":38},"end":{"line":12,"column":40}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"4":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":6},"end":{"line":16,"column":16}},{"start":{"line":16,"column":20},"end":{"line":16,"column":38}}]},"5":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":7}},{"start":{"line":29,"column":11},"end":{"line":29,"column":12}}]}},"code":["","// Hacked from https://github.com/felixge/node-measured","","var units = require('../units');","var EWMA  = require('../EWMA');","","function Meter(opts) {","  var self = this;","","  this._tickInterval = 5 * units.SECONDS;","  this._samples = opts.samples || opts.seconds || 1;","  this._timeframe = opts.timeframe || 60;","","  this._rate     = new EWMA(this._timeframe * units.SECONDS, this._tickInterval);","","  if (opts.debug && opts.debug == true)","    return false;","","  this._interval = setInterval(function() {","    self._rate.tick();","  }, this._tickInterval);","","  this._interval.unref();","}","","Meter.RATE_UNIT     = units.SECONDS;","","Meter.prototype.mark = function(n) {","  n = n || 1;","","  this._rate.update(n);","};","","Meter.prototype.val = function() {","  return Math.round(this._rate.rate(this._samples * Meter.RATE_UNIT) * 100 ) / 100;","};","","module.exports = Meter;",""],"l":{"4":1,"5":1,"7":1,"8":0,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"19":0,"20":0,"23":0,"26":1,"28":1,"29":0,"31":0,"34":1,"35":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/EWMA.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/EWMA.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"ExponentiallyWeightedMovingAverage","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":70}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":54},"end":{"line":18,"column":66}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":63}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":52},"end":{"line":29,"column":71}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"3":{"start":{"line":8,"column":0},"end":{"line":14,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":54}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":88}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":76}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":25}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":25}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":69}},"10":{"start":{"line":18,"column":0},"end":{"line":20,"column":2}},"11":{"start":{"line":19,"column":2},"end":{"line":19,"column":19}},"12":{"start":{"line":22,"column":0},"end":{"line":27,"column":2}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":53}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":22}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":59}},"16":{"start":{"line":29,"column":0},"end":{"line":31,"column":2}},"17":{"start":{"line":30,"column":2},"end":{"line":30,"column":38}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":23},"end":{"line":9,"column":33}},{"start":{"line":9,"column":37},"end":{"line":9,"column":53}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":23},"end":{"line":10,"column":35}},{"start":{"line":10,"column":39},"end":{"line":10,"column":87}}]},"3":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":10},"end":{"line":30,"column":20}},{"start":{"line":30,"column":24},"end":{"line":30,"column":25}}]}},"code":["","// Hacked https://github.com/felixge/node-measured","","var units = require('./units');","","module.exports = ExponentiallyWeightedMovingAverage;","","function ExponentiallyWeightedMovingAverage(timePeriod, tickInterval) {","  this._timePeriod   = timePeriod || 1 * units.MINUTE;","  this._tickInterval = tickInterval || ExponentiallyWeightedMovingAverage.TICK_INTERVAL;","  this._alpha        = 1 - Math.exp(-this._tickInterval / this._timePeriod);","  this._count        = 0;","  this._rate         = 0;","};","","ExponentiallyWeightedMovingAverage.TICK_INTERVAL = 5 * units.SECONDS;","","ExponentiallyWeightedMovingAverage.prototype.update = function(n) {","  this._count += n;","};","","ExponentiallyWeightedMovingAverage.prototype.tick = function() {","  var instantRate = this._count / this._tickInterval;","  this._count     = 0;","","  this._rate += (this._alpha * (instantRate - this._rate));","};","","ExponentiallyWeightedMovingAverage.prototype.rate = function(timeUnit) {","  return (this._rate || 0) * timeUnit;","};",""],"l":{"4":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"16":1,"18":1,"19":0,"22":1,"23":0,"24":0,"26":0,"29":1,"30":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/alert.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/alert.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0,0],"4":[0,0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":34}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":26}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":13},"end":{"line":32,"column":28}}},"4":{"name":"(anonymous_4)","line":37,"loc":{"start":{"line":37,"column":15},"end":{"line":37,"column":29}}},"5":{"name":"(anonymous_5)","line":48,"loc":{"start":{"line":48,"column":10},"end":{"line":48,"column":24}}},"6":{"name":"(anonymous_6)","line":57,"loc":{"start":{"line":57,"column":29},"end":{"line":57,"column":43}}},"7":{"name":"(anonymous_7)","line":65,"loc":{"start":{"line":65,"column":17},"end":{"line":65,"column":44}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":44}}},"9":{"name":"(anonymous_9)","line":96,"loc":{"start":{"line":96,"column":13},"end":{"line":96,"column":24}}},"10":{"name":"(anonymous_10)","line":106,"loc":{"start":{"line":106,"column":23},"end":{"line":106,"column":39}}},"11":{"name":"(anonymous_11)","line":116,"loc":{"start":{"line":116,"column":32},"end":{"line":116,"column":43}}},"12":{"name":"(anonymous_12)","line":127,"loc":{"start":{"line":127,"column":28},"end":{"line":127,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"5":{"start":{"line":18,"column":0},"end":{"line":104,"column":2}},"6":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"7":{"start":{"line":20,"column":2},"end":{"line":20,"column":10}},"8":{"start":{"line":22,"column":2},"end":{"line":23,"column":60}},"9":{"start":{"line":23,"column":4},"end":{"line":23,"column":60}},"10":{"start":{"line":24,"column":2},"end":{"line":52,"column":3}},"11":{"start":{"line":25,"column":4},"end":{"line":43,"column":5}},"12":{"start":{"line":27,"column":6},"end":{"line":29,"column":10}},"13":{"start":{"line":28,"column":10},"end":{"line":28,"column":25}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":14}},"15":{"start":{"line":32,"column":7},"end":{"line":34,"column":10}},"16":{"start":{"line":33,"column":10},"end":{"line":33,"column":25}},"17":{"start":{"line":35,"column":8},"end":{"line":35,"column":14}},"18":{"start":{"line":37,"column":9},"end":{"line":39,"column":10}},"19":{"start":{"line":38,"column":10},"end":{"line":38,"column":27}},"20":{"start":{"line":40,"column":8},"end":{"line":40,"column":14}},"21":{"start":{"line":42,"column":8},"end":{"line":42,"column":69}},"22":{"start":{"line":44,"column":4},"end":{"line":44,"column":29}},"23":{"start":{"line":45,"column":4},"end":{"line":45,"column":20}},"24":{"start":{"line":48,"column":4},"end":{"line":50,"column":6}},"25":{"start":{"line":49,"column":6},"end":{"line":49,"column":21}},"26":{"start":{"line":51,"column":4},"end":{"line":51,"column":24}},"27":{"start":{"line":53,"column":2},"end":{"line":92,"column":3}},"28":{"start":{"line":55,"column":6},"end":{"line":56,"column":74}},"29":{"start":{"line":56,"column":8},"end":{"line":56,"column":74}},"30":{"start":{"line":57,"column":6},"end":{"line":59,"column":8}},"31":{"start":{"line":58,"column":8},"end":{"line":58,"column":37}},"32":{"start":{"line":60,"column":6},"end":{"line":60,"column":12}},"33":{"start":{"line":62,"column":6},"end":{"line":63,"column":78}},"34":{"start":{"line":63,"column":8},"end":{"line":63,"column":78}},"35":{"start":{"line":64,"column":6},"end":{"line":64,"column":53}},"36":{"start":{"line":65,"column":6},"end":{"line":72,"column":8}},"37":{"start":{"line":66,"column":8},"end":{"line":66,"column":46}},"38":{"start":{"line":67,"column":8},"end":{"line":71,"column":9}},"39":{"start":{"line":68,"column":10},"end":{"line":69,"column":62}},"40":{"start":{"line":69,"column":12},"end":{"line":69,"column":62}},"41":{"start":{"line":70,"column":10},"end":{"line":70,"column":55}},"42":{"start":{"line":73,"column":6},"end":{"line":73,"column":12}},"43":{"start":{"line":75,"column":6},"end":{"line":75,"column":53}},"44":{"start":{"line":76,"column":6},"end":{"line":76,"column":49}},"45":{"start":{"line":77,"column":6},"end":{"line":88,"column":8}},"46":{"start":{"line":78,"column":8},"end":{"line":86,"column":9}},"47":{"start":{"line":79,"column":10},"end":{"line":79,"column":48}},"48":{"start":{"line":80,"column":10},"end":{"line":80,"column":47}},"49":{"start":{"line":83,"column":10},"end":{"line":85,"column":175}},"50":{"start":{"line":85,"column":12},"end":{"line":85,"column":175}},"51":{"start":{"line":87,"column":8},"end":{"line":87,"column":21}},"52":{"start":{"line":89,"column":6},"end":{"line":89,"column":12}},"53":{"start":{"line":91,"column":6},"end":{"line":91,"column":67}},"54":{"start":{"line":93,"column":2},"end":{"line":93,"column":24}},"55":{"start":{"line":94,"column":2},"end":{"line":94,"column":21}},"56":{"start":{"line":96,"column":2},"end":{"line":98,"column":28}},"57":{"start":{"line":97,"column":4},"end":{"line":97,"column":22}},"58":{"start":{"line":99,"column":2},"end":{"line":99,"column":19}},"59":{"start":{"line":100,"column":2},"end":{"line":100,"column":21}},"60":{"start":{"line":101,"column":2},"end":{"line":101,"column":35}},"61":{"start":{"line":102,"column":2},"end":{"line":102,"column":122}},"62":{"start":{"line":103,"column":2},"end":{"line":103,"column":47}},"63":{"start":{"line":106,"column":0},"end":{"line":125,"column":2}},"64":{"start":{"line":107,"column":2},"end":{"line":107,"column":18}},"65":{"start":{"line":108,"column":2},"end":{"line":124,"column":3}},"66":{"start":{"line":110,"column":4},"end":{"line":119,"column":5}},"67":{"start":{"line":111,"column":6},"end":{"line":111,"column":26}},"68":{"start":{"line":113,"column":9},"end":{"line":119,"column":5}},"69":{"start":{"line":114,"column":6},"end":{"line":114,"column":49}},"70":{"start":{"line":116,"column":6},"end":{"line":116,"column":67}},"71":{"start":{"line":116,"column":21},"end":{"line":116,"column":67}},"72":{"start":{"line":116,"column":44},"end":{"line":116,"column":60}},"73":{"start":{"line":117,"column":6},"end":{"line":117,"column":23}},"74":{"start":{"line":118,"column":6},"end":{"line":118,"column":25}},"75":{"start":{"line":121,"column":7},"end":{"line":124,"column":3}},"76":{"start":{"line":122,"column":4},"end":{"line":123,"column":23}},"77":{"start":{"line":123,"column":6},"end":{"line":123,"column":23}},"78":{"start":{"line":127,"column":0},"end":{"line":146,"column":2}},"79":{"start":{"line":128,"column":2},"end":{"line":128,"column":18}},"80":{"start":{"line":130,"column":2},"end":{"line":132,"column":4}},"81":{"start":{"line":134,"column":2},"end":{"line":137,"column":3}},"82":{"start":{"line":135,"column":4},"end":{"line":135,"column":27}},"83":{"start":{"line":136,"column":4},"end":{"line":136,"column":30}},"84":{"start":{"line":139,"column":2},"end":{"line":143,"column":3}},"85":{"start":{"line":140,"column":4},"end":{"line":140,"column":30}},"86":{"start":{"line":141,"column":4},"end":{"line":141,"column":37}},"87":{"start":{"line":142,"column":4},"end":{"line":142,"column":33}},"88":{"start":{"line":145,"column":2},"end":{"line":145,"column":13}},"89":{"start":{"line":148,"column":0},"end":{"line":148,"column":23}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"3":{"line":25,"type":"switch","locations":[{"start":{"line":26,"column":6},"end":{"line":30,"column":14}},{"start":{"line":31,"column":6},"end":{"line":35,"column":14}},{"start":{"line":36,"column":6},"end":{"line":40,"column":14}},{"start":{"line":41,"column":6},"end":{"line":42,"column":69}}]},"4":{"line":53,"type":"switch","locations":[{"start":{"line":54,"column":4},"end":{"line":60,"column":12}},{"start":{"line":61,"column":4},"end":{"line":73,"column":12}},{"start":{"line":74,"column":4},"end":{"line":89,"column":12}},{"start":{"line":90,"column":4},"end":{"line":91,"column":67}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":6}},{"start":{"line":55,"column":6},"end":{"line":55,"column":6}}]},"6":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":17},"end":{"line":57,"column":25}},{"start":{"line":57,"column":29},"end":{"line":59,"column":7}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":62,"column":6}},{"start":{"line":62,"column":6},"end":{"line":62,"column":6}}]},"8":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":31},"end":{"line":64,"column":44}},{"start":{"line":64,"column":48},"end":{"line":64,"column":51}}]},"9":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":8}},{"start":{"line":67,"column":8},"end":{"line":67,"column":8}}]},"10":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":10},"end":{"line":68,"column":10}},{"start":{"line":68,"column":10},"end":{"line":68,"column":10}}]},"11":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":14},"end":{"line":68,"column":46}},{"start":{"line":68,"column":50},"end":{"line":68,"column":67}}]},"12":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":31},"end":{"line":75,"column":44}},{"start":{"line":75,"column":48},"end":{"line":75,"column":51}}]},"13":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":30},"end":{"line":76,"column":41}},{"start":{"line":76,"column":45},"end":{"line":76,"column":47}}]},"14":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"15":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":10},"end":{"line":83,"column":10}},{"start":{"line":83,"column":10},"end":{"line":83,"column":10}}]},"16":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":5},"end":{"line":98,"column":17}},{"start":{"line":98,"column":21},"end":{"line":98,"column":26}}]},"17":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":16},"end":{"line":101,"column":26}},{"start":{"line":101,"column":30},"end":{"line":101,"column":34}}]},"18":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":13},"end":{"line":102,"column":21}},{"start":{"line":102,"column":26},"end":{"line":102,"column":120}}]},"19":{"line":102,"type":"cond-expr","locations":[{"start":{"line":102,"column":51},"end":{"line":102,"column":95}},{"start":{"line":102,"column":99},"end":{"line":102,"column":120}}]},"20":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":27},"end":{"line":102,"column":32}},{"start":{"line":102,"column":36},"end":{"line":102,"column":46}}]},"21":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":14},"end":{"line":103,"column":23}},{"start":{"line":103,"column":27},"end":{"line":103,"column":38}},{"start":{"line":103,"column":42},"end":{"line":103,"column":46}}]},"22":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":2},"end":{"line":108,"column":2}},{"start":{"line":108,"column":2},"end":{"line":108,"column":2}}]},"23":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":110,"column":4}},{"start":{"line":110,"column":4},"end":{"line":110,"column":4}}]},"24":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":8},"end":{"line":110,"column":22}},{"start":{"line":110,"column":26},"end":{"line":110,"column":45}}]},"25":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":9},"end":{"line":113,"column":9}},{"start":{"line":113,"column":9},"end":{"line":113,"column":9}}]},"26":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":6},"end":{"line":116,"column":6}},{"start":{"line":116,"column":6},"end":{"line":116,"column":6}}]},"27":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":7},"end":{"line":121,"column":7}},{"start":{"line":121,"column":7},"end":{"line":121,"column":7}}]},"28":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":4},"end":{"line":122,"column":4}},{"start":{"line":122,"column":4},"end":{"line":122,"column":4}}]},"29":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":2},"end":{"line":134,"column":2}},{"start":{"line":134,"column":2},"end":{"line":134,"column":2}}]},"30":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":2},"end":{"line":139,"column":2}},{"start":{"line":139,"column":2},"end":{"line":139,"column":2}}]}},"code":["var Notify    = require('../notify.js');","var Sample    = require('./sample.js');","var Histogram = require('./probes/Histogram.js');","var debug     = require('debug')('axm:alert:checker');","","/**"," * Required:"," * opts.mode"," * opts.value"," *"," * Optional:"," * extra.name"," * opts.cmp"," * opts.interval"," * opts.msg"," * opts.sample"," */","var Alert = function(opts, extra) {","  var self = this;","  var cmp;","","  if (typeof(opts.mode) === 'undefined')","    return console.error('[Probe][Metric] Mode undefined!');","  if (typeof(opts.cmp) === 'string') {","    switch(opts.cmp) {","      case '>':","      cmp = function(a,b) {","          return (a > b);","        };","        break;","      case '<':","       cmp = function(a, b) {","          return (a < b);","        };","        break;","      case '=':","         cmp = function(a,b) {","          return (a === b);","        };","        break;","      default:","        return console.error('[Probe][Metric] Mode does not exist!');","    }","    self.cmp_mode = opts.cmp;","    opts.cmp = null;","  }","  else {","    cmp = function(a,b) {","      return (a > b);","    };","    self.cmp_mode = '>';","  }","  switch(opts.mode) {","    case 'threshold':","      if (typeof(opts.value) === 'undefined')","        return console.error('[Probe][Metric][threshold] Val undefined!');","      this.cmp = opts.cmp || function(a,b) {","        return cmp(parseFloat(a), b);","      };","      break;","    case 'threshold-avg':","      if (typeof(opts.value) === 'undefined')","        return console.error('[Probe][Metric][threshold-avg] Val undefined!');","      this.sample = new Sample(opts.interval || 180);","      this.cmp = function(value, threshold) {","        this.sample.update(parseFloat(value));","        if (this.start) {","          if (typeof(opts.cmp) !== 'undefined' && opts.cmp !== null)","            return opts.cmp(this.sample.getMean(), threshold);","          return cmp(this.sample.getMean(), threshold);","        }","      };","      break;","    case 'smart':","      this.sample = new Sample(opts.interval || 300);","      this.small = new Sample(opts.sample || 30);","      this.cmp = function(value, threshold) {","        if (value !== null) {","          this.sample.update(parseFloat(value));","          this.small.update(parseFloat(value));","        //debug('Check', value, Math.exp(- Math.pow(value - this.sample.getMean(), 2) / (2 * this.sample.getVariance())) / (Math.sqrt(2 * Math.PI) * this.sample.getStddev()));","","          if (this.start)","          //return false","            return (Math.exp(- Math.pow(value - this.sample.getMean(), 2) / (2 * this.sample.getVariance())) / (Math.sqrt(2 * Math.PI) * this.sample.getStddev()) < 0.00000001)","        }","        return false;","      };","      break;","    default:","      return console.error('[Probe][Metric] Mode does not exist!');","  }","  this.mode = opts.mode;","  this.start = false;","  //Start the data checking after 30s (default)","  setTimeout(function() {","    self.start = true;","  }, opts.timeout || 30000);","  this.reached = 0;","  this.nullCheck = 0;","  this.value =  opts.value || null;","  this.msg = opts.msg || ((extra && extra.name) ? ('Probe ' + extra.name + ' has reached value') : 'Alert value reached');","  this.func = opts.func || opts.action || null;","};","","Alert.prototype.tick = function(value) {","  var self = this;","  if (this.reached === 0) {","    //Need 10 times null to trigger alert","    if (value === null && this.nullCheck < 10) {","      this.nullCheck += 1;","    }","    else if (this.cmp(value, this.value)) {","      Notify.notify(this.msg + ' ' + this.value);","      // Delay a bit call to custom function to allow PM2 to receive notify msg","      if (this.func) setTimeout(function() {self.func(value)}, 50);","      this.reached = 1;","      this.nullCheck = 0;","    }","  }","  else if (typeof(this.reached) !== 'undefined') {","    if (!this.cmp(value, this.value))","      this.reached = 0;","  }","};","","Alert.prototype.serialize = function() {","  var self = this;","","  var ret = {","    mode  : self.mode","  };","","  if (this.mode == 'threshold') {","    ret.value = self.value;","    ret.cmp   = self.cmp_mode;","  }","","  if (this.mode == 'threshold-avg') {","    ret.value    = self.value;","    ret.interval = self.sample._size;","    ret.cmp      = self.cmp_mode;","  }","","  return ret;","};","","module.exports = Alert;",""],"l":{"1":1,"2":1,"3":1,"4":1,"18":1,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"30":0,"32":0,"33":0,"35":0,"37":0,"38":0,"40":0,"42":0,"44":0,"45":0,"48":0,"49":0,"51":0,"53":0,"55":0,"56":0,"57":0,"58":0,"60":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"73":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"83":0,"85":0,"87":0,"89":0,"91":0,"93":0,"94":0,"96":0,"97":0,"99":0,"100":0,"101":0,"102":0,"103":0,"106":1,"107":0,"108":0,"110":0,"111":0,"113":0,"114":0,"116":0,"117":0,"118":0,"121":0,"122":0,"123":0,"127":1,"128":0,"130":0,"134":0,"135":0,"136":0,"139":0,"140":0,"141":0,"142":0,"145":0,"148":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/sample.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/sample.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":13},"end":{"line":1,"column":28}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":42}}},"3":{"name":"(anonymous_3)","line":25,"loc":{"start":{"line":25,"column":27},"end":{"line":25,"column":38}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":43}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":29},"end":{"line":38,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":22}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":16}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"8":{"start":{"line":10,"column":0},"end":{"line":23,"column":1}},"9":{"start":{"line":11,"column":2},"end":{"line":22,"column":3}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":31}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":18}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":31}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":23}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":31}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":54}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":68}},"18":{"start":{"line":25,"column":0},"end":{"line":29,"column":1}},"19":{"start":{"line":26,"column":2},"end":{"line":28,"column":30}},"20":{"start":{"line":32,"column":0},"end":{"line":36,"column":1}},"21":{"start":{"line":33,"column":2},"end":{"line":35,"column":41}},"22":{"start":{"line":38,"column":0},"end":{"line":42,"column":1}},"23":{"start":{"line":39,"column":2},"end":{"line":41,"column":36}},"24":{"start":{"line":44,"column":0},"end":{"line":44,"column":24}}},"branchMap":{"1":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":15},"end":{"line":3,"column":19}},{"start":{"line":3,"column":23},"end":{"line":3,"column":26}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"3":{"line":26,"type":"cond-expr","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":7}},{"start":{"line":28,"column":6},"end":{"line":28,"column":29}}]},"4":{"line":33,"type":"cond-expr","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":7}},{"start":{"line":35,"column":7},"end":{"line":35,"column":41}}]},"5":{"line":39,"type":"cond-expr","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":7}},{"start":{"line":41,"column":6},"end":{"line":41,"column":35}}]}},"code":["var Sample = function(size) {","  this._elements = [];","  this._size = size || 300;","  this._sum = 0;","  this._count = 0;","  this._varianceM = 0;","  this._varianceS = 0;","}","","Sample.prototype.update = function(value) {","  if (this._count >= this._size) { ","    this._elements.push(value);","    this._sum += (value - this._elements.shift());","  }","  else {","    this._count++;","    this._elements.push(value);","    this._sum += value;","    var oldM = this._varianceM;","    this._varianceM += ((value - oldM) / this._count);","    this._varianceS += ((value - oldM) * (value - this._varianceM));","  }","}","","Sample.prototype.getMean = function() {","  return (this._count === 0)","    ? 0","    : this._sum / this._count;","}","","//need change 1 return - fixes early 0 divide issues","Sample.prototype.getVariance = function () {","  return (this._count < 2)","    ? 1","    :  this._varianceS / (this._count -1)","}","","Sample.prototype.getStddev = function () {","  return (this._count < 2)","    ? 1","    : Math.sqrt(this.getVariance());","}","","module.exports = Sample;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"10":1,"11":0,"12":0,"13":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"25":1,"26":0,"32":1,"33":0,"38":1,"39":0,"44":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/network.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/network.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":21},"end":{"line":6,"column":32}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":25}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":39},"end":{"line":17,"column":50}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":23},"end":{"line":25,"column":34}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":23},"end":{"line":36,"column":34}}},"6":{"name":"(anonymous_6)","line":42,"loc":{"start":{"line":42,"column":15},"end":{"line":42,"column":31}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":29},"end":{"line":74,"column":40}}},"8":{"name":"(anonymous_8)","line":86,"loc":{"start":{"line":86,"column":15},"end":{"line":86,"column":26}}},"9":{"name":"(anonymous_9)","line":92,"loc":{"start":{"line":92,"column":15},"end":{"line":92,"column":26}}},"10":{"name":"(anonymous_10)","line":97,"loc":{"start":{"line":97,"column":38},"end":{"line":97,"column":53}}},"11":{"name":"(anonymous_11)","line":105,"loc":{"start":{"line":105,"column":37},"end":{"line":105,"column":48}}},"12":{"name":"(anonymous_12)","line":110,"loc":{"start":{"line":110,"column":22},"end":{"line":110,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"4":{"start":{"line":6,"column":0},"end":{"line":34,"column":2}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}},"7":{"start":{"line":10,"column":2},"end":{"line":13,"column":5}},"8":{"start":{"line":12,"column":27},"end":{"line":12,"column":47}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":59}},"10":{"start":{"line":17,"column":2},"end":{"line":33,"column":4}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"12":{"start":{"line":20,"column":4},"end":{"line":23,"column":5}},"13":{"start":{"line":21,"column":6},"end":{"line":21,"column":28}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":46}},"15":{"start":{"line":25,"column":4},"end":{"line":30,"column":7}},"16":{"start":{"line":26,"column":6},"end":{"line":29,"column":7}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":55}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":48}},"19":{"start":{"line":32,"column":4},"end":{"line":32,"column":50}},"20":{"start":{"line":36,"column":0},"end":{"line":118,"column":2}},"21":{"start":{"line":37,"column":2},"end":{"line":37,"column":19}},"22":{"start":{"line":38,"column":2},"end":{"line":38,"column":19}},"23":{"start":{"line":39,"column":2},"end":{"line":39,"column":27}},"24":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}},"25":{"start":{"line":42,"column":2},"end":{"line":72,"column":4}},"26":{"start":{"line":43,"column":4},"end":{"line":43,"column":21}},"27":{"start":{"line":45,"column":4},"end":{"line":52,"column":19}},"28":{"start":{"line":47,"column":9},"end":{"line":52,"column":19}},"29":{"start":{"line":48,"column":6},"end":{"line":48,"column":19}},"30":{"start":{"line":49,"column":9},"end":{"line":52,"column":19}},"31":{"start":{"line":50,"column":6},"end":{"line":50,"column":19}},"32":{"start":{"line":52,"column":6},"end":{"line":52,"column":19}},"33":{"start":{"line":54,"column":4},"end":{"line":54,"column":54}},"34":{"start":{"line":56,"column":4},"end":{"line":56,"column":22}},"35":{"start":{"line":58,"column":4},"end":{"line":66,"column":5}},"36":{"start":{"line":59,"column":6},"end":{"line":62,"column":7}},"37":{"start":{"line":60,"column":8},"end":{"line":60,"column":20}},"38":{"start":{"line":61,"column":8},"end":{"line":61,"column":14}},"39":{"start":{"line":63,"column":6},"end":{"line":64,"column":14}},"40":{"start":{"line":64,"column":8},"end":{"line":64,"column":14}},"41":{"start":{"line":65,"column":6},"end":{"line":65,"column":18}},"42":{"start":{"line":68,"column":4},"end":{"line":69,"column":43}},"43":{"start":{"line":69,"column":6},"end":{"line":69,"column":43}},"44":{"start":{"line":71,"column":4},"end":{"line":71,"column":29}},"45":{"start":{"line":74,"column":2},"end":{"line":79,"column":10}},"46":{"start":{"line":75,"column":4},"end":{"line":75,"column":24}},"47":{"start":{"line":76,"column":4},"end":{"line":76,"column":28}},"48":{"start":{"line":77,"column":4},"end":{"line":77,"column":15}},"49":{"start":{"line":78,"column":4},"end":{"line":78,"column":17}},"50":{"start":{"line":81,"column":2},"end":{"line":81,"column":19}},"51":{"start":{"line":83,"column":2},"end":{"line":87,"column":5}},"52":{"start":{"line":86,"column":28},"end":{"line":86,"column":40}},"53":{"start":{"line":89,"column":2},"end":{"line":93,"column":5}},"54":{"start":{"line":92,"column":28},"end":{"line":92,"column":38}},"55":{"start":{"line":95,"column":2},"end":{"line":95,"column":57}},"56":{"start":{"line":97,"column":2},"end":{"line":101,"column":4}},"57":{"start":{"line":98,"column":4},"end":{"line":99,"column":28}},"58":{"start":{"line":99,"column":6},"end":{"line":99,"column":28}},"59":{"start":{"line":100,"column":4},"end":{"line":100,"column":49}},"60":{"start":{"line":103,"column":2},"end":{"line":103,"column":55}},"61":{"start":{"line":105,"column":2},"end":{"line":117,"column":4}},"62":{"start":{"line":107,"column":4},"end":{"line":114,"column":5}},"63":{"start":{"line":108,"column":6},"end":{"line":108,"column":28}},"64":{"start":{"line":110,"column":6},"end":{"line":113,"column":9}},"65":{"start":{"line":111,"column":8},"end":{"line":112,"column":34}},"66":{"start":{"line":112,"column":10},"end":{"line":112,"column":34}},"67":{"start":{"line":116,"column":4},"end":{"line":116,"column":48}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"2":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},{"start":{"line":20,"column":24},"end":{"line":20,"column":55}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":6}},{"start":{"line":26,"column":6},"end":{"line":26,"column":6}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]},"5":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":9},"end":{"line":47,"column":9}},{"start":{"line":47,"column":9},"end":{"line":47,"column":9}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":9},"end":{"line":49,"column":9}},{"start":{"line":49,"column":9},"end":{"line":49,"column":9}}]},"7":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":6},"end":{"line":59,"column":6}},{"start":{"line":59,"column":6},"end":{"line":59,"column":6}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":6}},{"start":{"line":63,"column":6},"end":{"line":63,"column":6}}]},"9":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"10":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":4}},{"start":{"line":98,"column":4},"end":{"line":98,"column":4}}]},"11":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":4}},{"start":{"line":107,"column":4},"end":{"line":107,"column":4}}]},"12":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":8},"end":{"line":111,"column":8}},{"start":{"line":111,"column":8},"end":{"line":111,"column":8}}]}},"code":["var net_module = require('net');","var Probe      = require('./Probe.js');","","var Network = module.exports = {};","","Network.catchPorts = function() {","  var ports_list = [];","  var opened_ports = 'N/A';","","  Probe.probe().metric({","    name    : 'Open ports',","    value   : function() { return opened_ports; }","  });","","  var original_listen = net_module.Server.prototype.listen;","","  net_module.Server.prototype.listen = function() {","    var port = parseInt(arguments[0]);","","    if (!isNaN(port) && ports_list.indexOf(port) === -1) {","      ports_list.push(port);","      opened_ports = ports_list.sort().join();","    }","","    this.once('close', function() {","      if (ports_list.indexOf(port) > -1) {","        ports_list.splice(ports_list.indexOf(port), 1);","        opened_ports = ports_list.sort().join();","      }","    });","","    return original_listen.apply(this, arguments);","  };","};","","Network.catchTraffic = function() {","  var download = 0;","  var upload   = 0;","  var up       = '0 B/sec';","  var down     = '0 B/sec';","","  var filter = function(bytes) {","    var to_fixed = 0;","","    if (bytes === 0)","      ;","    else if (bytes < 1024)","      to_fixed = 6;","    else if (bytes < (1024 * 1024))","      to_fixed = 3;","    else","      to_fixed = 2;","","    bytes = (bytes / (1024 * 1024)).toFixed(to_fixed);","","    var cut_zeros = 0;","","    for (var i = (bytes.length - 1); i > 0; --i) {","      if (bytes[i] === '.') {","        ++cut_zeros;","        break;","      }","      if (bytes[i] !== '0')","        break;","      ++cut_zeros;","    }","","    if (cut_zeros > 0)","      bytes = bytes.slice(0, -(cut_zeros));","","    return (bytes + ' MB/s');","  };","","  var interval = setInterval(function() {","    up = filter(upload);","    down = filter(download);","    upload = 0;","    download = 0;","  }, 999);","","  interval.unref();","","  Probe.probe().metric({","    name     : 'Network Download',","    agg_type : 'sum',","    value    : function() { return down; }","  });","","  Probe.probe().metric({","    name     : 'Network Upload',","    agg_type : 'sum',","    value    : function() { return up; }","  });","","  var original_write = net_module.Socket.prototype.write;","","  net_module.Socket.prototype.write = function(data) {","    if (data.length)","      upload += data.length;","    return original_write.apply(this, arguments);","  };","","  var original_read = net_module.Socket.prototype.read;","","  net_module.Socket.prototype.read = function() {","","    if (!this.monitored) {","      this.monitored = true;","","      this.on('data', function(data) {","        if (data.length)","          download += data.length;","      });","    }","","    return original_read.apply(this, arguments);","  };","};",""],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"10":0,"12":0,"15":0,"17":0,"18":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"32":0,"36":1,"37":0,"38":0,"39":0,"40":0,"42":0,"43":0,"45":0,"47":0,"48":0,"49":0,"50":0,"52":0,"54":0,"56":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"68":0,"69":0,"71":0,"74":0,"75":0,"76":0,"77":0,"78":0,"81":0,"83":0,"86":0,"89":0,"92":0,"95":0,"97":0,"98":0,"99":0,"100":0,"103":0,"105":0,"107":0,"108":0,"110":0,"111":0,"112":0,"116":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/monitor.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/monitor.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"cookData","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":28},"end":{"line":10,"column":49}}},"3":{"name":"enableProbes","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":30},"end":{"line":29,"column":41}}},"5":{"name":"stopProbing","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":23}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":17}},"4":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":23}},"6":{"start":{"line":10,"column":2},"end":{"line":15,"column":5}},"7":{"start":{"line":11,"column":4},"end":{"line":14,"column":49}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":51}},"9":{"start":{"line":14,"column":6},"end":{"line":14,"column":49}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":21}},"11":{"start":{"line":19,"column":0},"end":{"line":39,"column":1}},"12":{"start":{"line":20,"column":2},"end":{"line":21,"column":29}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":29}},"14":{"start":{"line":23,"column":2},"end":{"line":24,"column":34}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":34}},"16":{"start":{"line":26,"column":2},"end":{"line":27,"column":36}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":36}},"18":{"start":{"line":29,"column":2},"end":{"line":34,"column":10}},"19":{"start":{"line":30,"column":4},"end":{"line":33,"column":7}},"20":{"start":{"line":36,"column":2},"end":{"line":36,"column":24}},"21":{"start":{"line":38,"column":2},"end":{"line":38,"column":34}},"22":{"start":{"line":41,"column":0},"end":{"line":43,"column":1}},"23":{"start":{"line":42,"column":2},"end":{"line":42,"column":31}},"24":{"start":{"line":45,"column":0},"end":{"line":45,"column":36}},"25":{"start":{"line":46,"column":0},"end":{"line":46,"column":35}},"26":{"start":{"line":48,"column":0},"end":{"line":48,"column":32}},"27":{"start":{"line":49,"column":0},"end":{"line":49,"column":33}},"28":{"start":{"line":51,"column":0},"end":{"line":51,"column":25}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"4":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]}},"code":["","var Transport = require('./utils/transport.js');","var debug = require('debug')('axm:monitor');","","var Monitor = {};","","function cookData(data) {","  var cooked_data = {};","","  Object.keys(data).forEach(function(probe_name) {","    if (typeof(data[probe_name]) == 'function')","      cooked_data[probe_name] = data[probe_name]();","    else","      cooked_data[probe_name] = data[probe_name];","  });","  return cooked_data;","};","","function enableProbes(custom_namespace) {","  if (!custom_namespace)","    custom_namespace = 'axm';","","  if (!global[custom_namespace])","    global[custom_namespace] = {};","","  if (this.interval)","    return global[custom_namespace];","","  this.interval = setInterval(function() {","    Transport.send({","      type : 'axm:monitor',","      data : cookData(global[custom_namespace])","    });","  }, 990);","","  this.interval.unref();","","  return global[custom_namespace];","};","","function stopProbing() {","  clearInterval(this.interval);","}","","Monitor.enableProbes = enableProbes;","Monitor.enableProbe = enableProbes;","","Monitor.stopProbe = stopProbing;","Monitor.stopProbes = stopProbing;","","module.exports = Monitor;",""],"l":{"2":1,"3":1,"5":1,"7":1,"8":0,"10":0,"11":0,"12":0,"14":0,"16":0,"19":1,"20":0,"21":0,"23":0,"24":0,"26":0,"27":0,"29":0,"30":0,"36":0,"38":0,"41":1,"42":0,"45":1,"46":1,"48":1,"49":1,"51":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/profiling.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/profiling.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":28},"end":{"line":11,"column":57}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":28},"end":{"line":32,"column":44}}},"3":{"name":"iterator","line":39,"loc":{"start":{"line":39,"column":6},"end":{"line":39,"column":38}}},"4":{"name":"complete","line":41,"loc":{"start":{"line":41,"column":9},"end":{"line":41,"column":29}}},"5":{"name":"(anonymous_5)","line":44,"loc":{"start":{"line":44,"column":40},"end":{"line":44,"column":55}}},"6":{"name":"(anonymous_6)","line":69,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":55}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":38},"end":{"line":74,"column":54}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":53},"end":{"line":77,"column":67}}},"9":{"name":"(anonymous_9)","line":97,"loc":{"start":{"line":97,"column":29},"end":{"line":97,"column":42}}},"10":{"name":"look_for_profiler","line":100,"loc":{"start":{"line":100,"column":3},"end":{"line":100,"column":45}}},"11":{"name":"(anonymous_11)","line":106,"loc":{"start":{"line":106,"column":29},"end":{"line":106,"column":45}}},"12":{"name":"(anonymous_12)","line":117,"loc":{"start":{"line":117,"column":24},"end":{"line":117,"column":38}}},"13":{"name":"(anonymous_13)","line":118,"loc":{"start":{"line":118,"column":29},"end":{"line":118,"column":58}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":36}},"7":{"start":{"line":11,"column":0},"end":{"line":92,"column":2}},"8":{"start":{"line":12,"column":2},"end":{"line":17,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":42}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":49}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":17}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":43}},"13":{"start":{"line":25,"column":2},"end":{"line":27,"column":5}},"14":{"start":{"line":32,"column":2},"end":{"line":61,"column":5}},"15":{"start":{"line":33,"column":4},"end":{"line":33,"column":73}},"16":{"start":{"line":35,"column":4},"end":{"line":35,"column":61}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":23}},"18":{"start":{"line":38,"column":4},"end":{"line":60,"column":6}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":23}},"20":{"start":{"line":42,"column":8},"end":{"line":42,"column":26}},"21":{"start":{"line":44,"column":8},"end":{"line":58,"column":11}},"22":{"start":{"line":45,"column":10},"end":{"line":45,"column":51}},"23":{"start":{"line":47,"column":10},"end":{"line":52,"column":11}},"24":{"start":{"line":48,"column":12},"end":{"line":51,"column":15}},"25":{"start":{"line":53,"column":10},"end":{"line":57,"column":13}},"26":{"start":{"line":66,"column":2},"end":{"line":66,"column":51}},"27":{"start":{"line":67,"column":2},"end":{"line":67,"column":73}},"28":{"start":{"line":69,"column":2},"end":{"line":72,"column":5}},"29":{"start":{"line":70,"column":4},"end":{"line":70,"column":46}},"30":{"start":{"line":71,"column":4},"end":{"line":71,"column":37}},"31":{"start":{"line":74,"column":2},"end":{"line":90,"column":5}},"32":{"start":{"line":75,"column":4},"end":{"line":75,"column":55}},"33":{"start":{"line":77,"column":4},"end":{"line":89,"column":7}},"34":{"start":{"line":78,"column":6},"end":{"line":83,"column":7}},"35":{"start":{"line":79,"column":8},"end":{"line":82,"column":11}},"36":{"start":{"line":84,"column":6},"end":{"line":88,"column":9}},"37":{"start":{"line":97,"column":0},"end":{"line":115,"column":2}},"38":{"start":{"line":98,"column":2},"end":{"line":98,"column":49}},"39":{"start":{"line":100,"column":2},"end":{"line":114,"column":20}},"40":{"start":{"line":101,"column":4},"end":{"line":102,"column":47}},"41":{"start":{"line":102,"column":6},"end":{"line":102,"column":47}},"42":{"start":{"line":104,"column":4},"end":{"line":104,"column":67}},"43":{"start":{"line":106,"column":4},"end":{"line":112,"column":7}},"44":{"start":{"line":107,"column":6},"end":{"line":108,"column":39}},"45":{"start":{"line":108,"column":8},"end":{"line":108,"column":39}},"46":{"start":{"line":110,"column":6},"end":{"line":110,"column":28}},"47":{"start":{"line":111,"column":6},"end":{"line":111,"column":46}},"48":{"start":{"line":113,"column":4},"end":{"line":113,"column":17}},"49":{"start":{"line":117,"column":0},"end":{"line":123,"column":2}},"50":{"start":{"line":118,"column":2},"end":{"line":122,"column":5}},"51":{"start":{"line":119,"column":4},"end":{"line":120,"column":19}},"52":{"start":{"line":120,"column":6},"end":{"line":120,"column":19}},"53":{"start":{"line":121,"column":4},"end":{"line":121,"column":57}}},"branchMap":{"1":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":10},"end":{"line":47,"column":10}},{"start":{"line":47,"column":10},"end":{"line":47,"column":10}}]},"2":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":6},"end":{"line":78,"column":6}},{"start":{"line":78,"column":6},"end":{"line":78,"column":6}}]},"3":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"4":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":107,"column":6}},{"start":{"line":107,"column":6},"end":{"line":107,"column":6}}]},"5":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":119,"column":4}},{"start":{"line":119,"column":4},"end":{"line":119,"column":4}}]}},"code":["","var debug     = require('debug')('axm:profiling');","var os        = require('os');","var path      = require('path');","var fs        = require('fs');","","var Options   = require('../configuration.js');","","var Profiling = module.exports = {};","","Profiling.exposeProfiling = function(pmx, profiler_path) {","  try {","    var profiler = require(profiler_path);","  } catch(e) {","    debug('v8-profiler module not installed', e);","    return false;","  }","","  debug('v8-profiler sucessfully enabled');","","  /**","   * Tell Keymetrics that profiling is possible","   * (flag available in axm_options object)","   */","  Options.configureModule({","    heapdump : true","  });","","  /**","   * Heap snapshot","   */","  pmx.action('km:heapdump', function(reply) {","    var dump_file = path.join(os.tmpDir(), Date.now() + '.heapsnapshot');","","    var snapshot = profiler.takeSnapshot('km-heap-snapshot');","    var buffer    = '';","","    snapshot.serialize(","      function iterator(data, length) {","        buffer += data;","      }, function complete() {","        snapshot.delete();","","        fs.writeFile(dump_file, buffer, function (err) {","          debug('Heap dump file flushed (e=', err);","","          if (err) {","            return reply({","              success   : false,","              err : err","            });","          }","          return reply({","            success   : true,","            heapdump  : true,","            dump_file : dump_file","          });","        });","      }","    );","  });","","  /**","   * CPU profiling snapshot","   */","  var ns_cpu_profiling        = 'km-cpu-profiling';","  var cpu_dump_file = path.join(os.tmpDir(), Date.now() + '.cpuprofile');","","  pmx.action('km:cpu:profiling:start', function(reply) {","    profiler.startProfiling(ns_cpu_profiling);","    return reply({ success : true });","  });","","  pmx.action('km:cpu:profiling:stop', function(reply) {","    var cpu = profiler.stopProfiling(ns_cpu_profiling);","","    fs.writeFile(cpu_dump_file, JSON.stringify(cpu), function(err) {","      if (err) {","        return reply({","          success   : false,","          err : err","        });","      }","      return reply({","        success     : true,","        cpuprofile  : true,","        dump_file   : cpu_dump_file","      });","    });","  });","","};","","/**"," * Discover v8-profiler"," */","Profiling.detectV8Profiler = function(cb) {","  var require_paths = require.main.paths.slice();","","  (function look_for_profiler(require_paths) {","    if (!require_paths[0])","      return cb(new Error('Module not found'));","","    var profiler_path = path.join(require_paths[0], 'v8-profiler');","","    fs.exists(profiler_path, function(exist) {","      if (exist)","        return cb(null, profiler_path);","","      require_paths.shift();","      return look_for_profiler(require_paths);","    });","    return false;","  })(require_paths);","};","","Profiling.v8Profiling = function(pmx) {","  Profiling.detectV8Profiler(function(err, profiler_path) {","    if (err)","      return false;","    return Profiling.exposeProfiling(pmx, profiler_path);","  });","};",""],"l":{"2":1,"3":1,"4":1,"5":1,"7":1,"9":1,"11":1,"12":0,"13":0,"15":0,"16":0,"19":0,"25":0,"32":0,"33":0,"35":0,"36":0,"38":0,"40":0,"42":0,"44":0,"45":0,"47":0,"48":0,"53":0,"66":0,"67":0,"69":0,"70":0,"71":0,"74":0,"75":0,"77":0,"78":0,"79":0,"84":0,"97":1,"98":0,"100":0,"101":0,"102":0,"104":0,"106":0,"107":0,"108":0,"110":0,"111":0,"113":0,"117":1,"118":0,"119":0,"120":0,"121":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/actions/default.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/actions/default.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":31}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":23},"end":{"line":6,"column":39}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":32}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":26,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":19,"column":5}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":487}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":20}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":40}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":4},"end":{"line":14,"column":5}},"10":{"start":{"line":12,"column":5},"end":{"line":13,"column":47}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":47}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":7}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":27}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":5},"end":{"line":12,"column":5}},{"start":{"line":12,"column":5},"end":{"line":12,"column":5}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":9},"end":{"line":12,"column":36}},{"start":{"line":12,"column":40},"end":{"line":12,"column":76}}]}},"code":["","var fs = require('fs');","var path = require('path');","","module.exports = function(pmx) {","  pmx.action('getEnv', function(reply) {","    var omit = ['name', 'exec_mode', 'env', 'args', 'pm_cwd', 'exec_interpreter', 'pm_exec_path', 'node_args', 'pm_out_log_path', 'pm_err_log_path', 'pm_pid_path', 'pm_id', 'status', 'pm_uptime', 'created_at', 'unstable_restarts', 'restart_time', 'axm_actions', 'pmx_module', 'command', 'watch', 'versioning', 'vizion_runing', 'MODULE_DEBUG', 'pmx', 'axm_options', 'created_at', 'watch', 'vizion', 'axm_dynamic', 'axm_monitor', 'instances', 'automation', 'unstable_restart', 'treekill'];","    var origin = {};","    var keys = Object.keys(process.env);","    var i = keys.length;","    while (i--) {","  \t  if (omit.indexOf(keys[i]) == -1 && origin[keys[i]] != '[object Object]')","        origin[keys[i]] = process.env[keys[i]];","    }","","    process.nextTick(function() {","      return reply(origin);","    });","  });","","  // pmx.action('getDeps', function(reply) {","  //   process.nextTick(function() {","  //     return reply({ module_cache : Object.keys(require('module')._cache) });","  //   });","  // });","}",""],"l":{"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"16":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/express.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/express.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":39}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":23},"end":{"line":16,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":22,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":8,"column":5}},"3":{"start":{"line":10,"column":2},"end":{"line":14,"column":5}},"4":{"start":{"line":16,"column":2},"end":{"line":20,"column":4}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":23}},"6":{"start":{"line":18,"column":4},"end":{"line":19,"column":41}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":41}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]}},"code":["","module.exports = function(pmx, tracer) {","","  var response_time = pmx.probe().histogram({","    name        : 'Express: response time',","    measurement : 'mean',","    unit        : 'ms'","  });","","  var req_per_min = pmx.probe().meter({","    name      : 'Express: req/min',","    samples   : 1,","    timeframe : 60","  });","","  tracer.on('express', function (data) {","    req_per_min.mark();","    if (data.duration)","      response_time.update(data.duration)","  })","  ","};",""],"l":{"2":1,"4":0,"10":0,"16":0,"17":0,"18":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/modules.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/modules.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":31}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":23}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":45}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":21,"column":2}},"2":{"start":{"line":3,"column":2},"end":{"line":6,"column":5}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":38}},"4":{"start":{"line":8,"column":2},"end":{"line":18,"column":11}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":21}},"6":{"start":{"line":11,"column":4},"end":{"line":15,"column":5}},"7":{"start":{"line":12,"column":6},"end":{"line":12,"column":66}},"8":{"start":{"line":14,"column":6},"end":{"line":14,"column":19}},"9":{"start":{"line":17,"column":4},"end":{"line":17,"column":29}},"10":{"start":{"line":20,"column":2},"end":{"line":20,"column":24}}},"branchMap":{},"code":["","module.exports = function(pmx) {","  var metric = pmx.probe().metric({","    name        : 'Modules',","    value : function() { return 'N/A' }","  });","","  var pace_interval = setInterval(function() {","    var module_count;","","    try {","      module_count = Object.keys(require('module')._cache).length;","    } catch(e) {","      return false;","    }","","    metric.set(module_count);","  }, 3000);","","  pace_interval.unref();","};",""],"l":{"2":1,"3":0,"5":0,"8":0,"9":0,"11":0,"12":0,"14":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/mongo.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/mongo.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":39}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":21},"end":{"line":16,"column":37}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":22,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":8,"column":5}},"3":{"start":{"line":10,"column":2},"end":{"line":14,"column":5}},"4":{"start":{"line":16,"column":2},"end":{"line":20,"column":4}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":23}},"6":{"start":{"line":18,"column":4},"end":{"line":19,"column":41}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":41}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]}},"code":["","module.exports = function(pmx, tracer) {","","  var response_time = pmx.probe().histogram({","    name        : 'Mongodb: query time',","    measurement : 'mean',","    unit        : 'ms'","  });","","  var req_per_min = pmx.probe().meter({","    name      : 'Mongodb: req/min',","    samples   : 1,","    timeframe : 60","  });","","  tracer.on('mongo', function (data) {","    req_per_min.mark();","    if (data.duration)","      response_time.update(data.duration)","  })","  ","};",""],"l":{"2":1,"4":0,"10":0,"16":0,"17":0,"18":0,"19":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/pacemaker.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/probes/pacemaker.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":31}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":34},"end":{"line":13,"column":45}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":21,"column":2}},"2":{"start":{"line":3,"column":2},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":33}},"4":{"start":{"line":7,"column":2},"end":{"line":11,"column":5}},"5":{"start":{"line":13,"column":2},"end":{"line":18,"column":20}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":35}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":98}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":22}},"9":{"start":{"line":17,"column":4},"end":{"line":17,"column":28}},"10":{"start":{"line":20,"column":2},"end":{"line":20,"column":24}}},"branchMap":{},"code":["","module.exports = function(pmx) {","  var TIME_INTERVAL = 1000;","","  var oldTime = process.hrtime();","","  var histogram = pmx.probe().histogram({","    name        : 'Loop delay',","    measurement : 'mean',","    unit        : 'ms'","  });","","  var pace_interval = setInterval(function() {","    var newTime = process.hrtime();","    var delay = (newTime[0] - oldTime[0]) * 1e3 + (newTime[1] - oldTime[1]) / 1e6 - TIME_INTERVAL;","    oldTime = newTime;","    histogram.update(delay);","  }, TIME_INTERVAL);","","  pace_interval.unref();","};",""],"l":{"2":1,"3":0,"5":0,"7":0,"13":0,"14":0,"15":0,"16":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/datachecker.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/datachecker.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"dataChecker","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":27}}},"2":{"name":"(anonymous_2)","line":54,"loc":{"start":{"line":54,"column":16},"end":{"line":54,"column":27}}},"3":{"name":"(anonymous_3)","line":62,"loc":{"start":{"line":62,"column":16},"end":{"line":62,"column":27}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":13},"end":{"line":71,"column":24}}},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":34},"end":{"line":78,"column":45}}},"6":{"name":"(anonymous_6)","line":83,"loc":{"start":{"line":83,"column":34},"end":{"line":83,"column":45}}},"7":{"name":"(anonymous_7)","line":87,"loc":{"start":{"line":87,"column":29},"end":{"line":87,"column":40}}},"8":{"name":"(anonymous_8)","line":91,"loc":{"start":{"line":91,"column":30},"end":{"line":91,"column":41}}},"9":{"name":"(anonymous_9)","line":96,"loc":{"start":{"line":96,"column":37},"end":{"line":96,"column":48}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":49}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"4":{"start":{"line":18,"column":0},"end":{"line":75,"column":1}},"5":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"6":{"start":{"line":20,"column":2},"end":{"line":20,"column":20}},"7":{"start":{"line":22,"column":2},"end":{"line":22,"column":20}},"8":{"start":{"line":24,"column":2},"end":{"line":25,"column":61}},"9":{"start":{"line":25,"column":4},"end":{"line":25,"column":61}},"10":{"start":{"line":27,"column":2},"end":{"line":27,"column":31}},"11":{"start":{"line":29,"column":2},"end":{"line":29,"column":26}},"12":{"start":{"line":30,"column":2},"end":{"line":30,"column":38}},"13":{"start":{"line":31,"column":2},"end":{"line":31,"column":30}},"14":{"start":{"line":32,"column":2},"end":{"line":32,"column":35}},"15":{"start":{"line":33,"column":2},"end":{"line":33,"column":32}},"16":{"start":{"line":34,"column":2},"end":{"line":34,"column":41}},"17":{"start":{"line":35,"column":2},"end":{"line":35,"column":36}},"18":{"start":{"line":36,"column":2},"end":{"line":36,"column":40}},"19":{"start":{"line":41,"column":2},"end":{"line":44,"column":3}},"20":{"start":{"line":45,"column":2},"end":{"line":45,"column":40}},"21":{"start":{"line":50,"column":2},"end":{"line":67,"column":3}},"22":{"start":{"line":51,"column":4},"end":{"line":58,"column":5}},"23":{"start":{"line":52,"column":6},"end":{"line":57,"column":9}},"24":{"start":{"line":55,"column":10},"end":{"line":55,"column":33}},"25":{"start":{"line":59,"column":4},"end":{"line":66,"column":5}},"26":{"start":{"line":60,"column":6},"end":{"line":65,"column":9}},"27":{"start":{"line":63,"column":10},"end":{"line":63,"column":42}},"28":{"start":{"line":71,"column":2},"end":{"line":73,"column":19}},"29":{"start":{"line":72,"column":4},"end":{"line":72,"column":27}},"30":{"start":{"line":74,"column":2},"end":{"line":74,"column":15}},"31":{"start":{"line":78,"column":0},"end":{"line":80,"column":1}},"32":{"start":{"line":79,"column":2},"end":{"line":79,"column":95}},"33":{"start":{"line":83,"column":0},"end":{"line":85,"column":1}},"34":{"start":{"line":84,"column":2},"end":{"line":84,"column":120}},"35":{"start":{"line":87,"column":0},"end":{"line":89,"column":2}},"36":{"start":{"line":88,"column":2},"end":{"line":88,"column":38}},"37":{"start":{"line":91,"column":0},"end":{"line":117,"column":2}},"38":{"start":{"line":92,"column":2},"end":{"line":92,"column":18}},"39":{"start":{"line":94,"column":2},"end":{"line":94,"column":27}},"40":{"start":{"line":96,"column":2},"end":{"line":114,"column":18}},"41":{"start":{"line":97,"column":4},"end":{"line":97,"column":44}},"42":{"start":{"line":99,"column":4},"end":{"line":99,"column":96}},"43":{"start":{"line":101,"column":4},"end":{"line":113,"column":24}},"44":{"start":{"line":102,"column":6},"end":{"line":102,"column":22}},"45":{"start":{"line":106,"column":6},"end":{"line":110,"column":7}},"46":{"start":{"line":107,"column":8},"end":{"line":107,"column":77}},"47":{"start":{"line":108,"column":8},"end":{"line":108,"column":25}},"48":{"start":{"line":109,"column":8},"end":{"line":109,"column":25}},"49":{"start":{"line":113,"column":6},"end":{"line":113,"column":24}},"50":{"start":{"line":116,"column":2},"end":{"line":116,"column":31}},"51":{"start":{"line":119,"column":0},"end":{"line":119,"column":29}}},"branchMap":{"1":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":9},"end":{"line":22,"column":13}},{"start":{"line":22,"column":17},"end":{"line":22,"column":19}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"3":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":17},"end":{"line":30,"column":28}},{"start":{"line":30,"column":32},"end":{"line":30,"column":37}}]},"4":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":15},"end":{"line":31,"column":24}},{"start":{"line":31,"column":28},"end":{"line":31,"column":29}}]},"5":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":26}},{"start":{"line":32,"column":30},"end":{"line":32,"column":34}}]},"6":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":16},"end":{"line":33,"column":24}},{"start":{"line":33,"column":28},"end":{"line":33,"column":31}}]},"7":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":19},"end":{"line":34,"column":32}},{"start":{"line":34,"column":36},"end":{"line":34,"column":40}}]},"8":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":18},"end":{"line":36,"column":30}},{"start":{"line":36,"column":34},"end":{"line":36,"column":39}}]},"9":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"10":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"11":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"12":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"13":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":8},"end":{"line":101,"column":32}},{"start":{"line":101,"column":36},"end":{"line":101,"column":62}}]},"14":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":6}},{"start":{"line":106,"column":6},"end":{"line":106,"column":6}}]}},"code":["","var probe     = require('../Probe.js');","var Histogram = require('./probes/Histogram.js');","var debug     = require('debug')('axm:smart:checker');",""," /**","  * new smart({","  *   refresh   : function,   Returns monitored value","  *   callback  : function,   Called when error is detected","  *   dev       : 0.2,        Deviation that triggers the error","  *   timer     : 100<ms>,    Value refresh interval","  *   launch    : 10000<ms>,  Timelength after which monitoring begins","  *   ceil      : 5           Number of times an error is detected before triggering callback","  *   calcDEv   : mean        How to compute the deviation","  * });","  */","","function dataChecker(opts) {","  var self = this;","  this._counter = 0;","","  opts = opts || {};","","  if (typeof(opts.refresh) !== 'function')","    throw new Error('Refresh not defined or not a function');","","  this._refresh = opts.refresh;","","  this._monitored = false;","  this._launch = opts.launch || 10000;","  this._ceil = opts.ceil || 5;","  this._timer = opts.timer || 1000;","  this._dev   = opts.dev || 0.2;","  this._callback = opts.callback || null;","  this._histogram = new Histogram();","  this._calcDev = opts.calcDev || 'ema';","","  /*","   * Select function to compute deviation","   */","  var func = {","    ema    : this.normalDev,","    mean   : this.medianDev","  }","  this.computeDev = func[this._calcDev];","","  /**","   * Display some probe if we need to debug","   */","  if (opts.debug === true) {","    if (opts.probes.indexOf('val') != -1) {","      this._metric2 = new probe.metric({","        name  : 'Value',","        value : function() {","          return self._refresh();","        }","      });","    }","    if (opts.probes.indexOf('ema') != -1) {","      this._metric3 = new probe.metric({","        name  : 'EMA',","        value : function() {","          return self._histogram.getEma();","        }","      });","    }","  }","  /**","    * Delay before monitoring starts","    */","  setTimeout(function() {","    self._monitored = true;","  }, this._launch);","  this.start();","};","","//Calculate deviation of current value compared to EMA","dataChecker.prototype.normalDev = function() {","  return ((this._refresh() - this._histogram.getEma()) / this._histogram.getEma() > this._dev);","}","","//Calculate deviation of current EMA compared to Mean","dataChecker.prototype.medianDev = function() {","  return ((this._histogram.getEma() - this._histogram._calculateMean()) / this._histogram._calculateMean() > this._dev);","}","","dataChecker.prototype.stop = function() {","  clearInterval(this._interval_timer);","};","","dataChecker.prototype.start = function() {","  var self = this;","","  debug('Checker started');","","  this._interval_timer = setInterval(function() {","    self._histogram.update(self._refresh());","","    debug('Check', self._refresh(), self._histogram._calculateMean(), self._histogram.getEma());","","    if (self._monitored === true && self.computeDev() === true) {","      self._counter++;","      /**","        * Triggers callback after N consecutive errors, then resets the counter","        */","      if (self._counter >= self._ceil) {","        debug('Anomaly detected', self._histogram.getEma(), self._refresh());","        self._callback();","        self.counter = 0;","      }","    }","    else","      self._counter = 0;","  }, self._timer);","","  this._interval_timer.unref();","};","","module.exports = dataChecker;",""],"l":{"2":1,"3":1,"4":1,"18":1,"19":0,"20":0,"22":0,"24":0,"25":0,"27":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"41":0,"45":0,"50":0,"51":0,"52":0,"55":0,"59":0,"60":0,"63":0,"71":0,"72":0,"74":0,"78":1,"79":0,"83":1,"84":0,"87":1,"88":0,"91":1,"92":0,"94":0,"96":0,"97":0,"99":0,"101":0,"102":0,"106":0,"107":0,"108":0,"109":0,"113":0,"116":0,"119":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/fixedQueue.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/fixedQueue.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":3,"20":0,"21":0,"22":0,"23":0,"24":3,"25":1,"26":1,"27":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":3,"5":0},"fnMap":{"1":{"name":"FixedQueue","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":32}}},"3":{"name":"(anonymous_3)","line":54,"loc":{"start":{"line":54,"column":22},"end":{"line":54,"column":32}}},"4":{"name":"(anonymous_4)","line":76,"loc":{"start":{"line":76,"column":24},"end":{"line":76,"column":58}}},"5":{"name":"(anonymous_5)","line":79,"loc":{"start":{"line":79,"column":16},"end":{"line":79,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":27,"column":1}},"2":{"start":{"line":6,"column":2},"end":{"line":6,"column":40}},"3":{"start":{"line":9,"column":2},"end":{"line":9,"column":49}},"4":{"start":{"line":12,"column":2},"end":{"line":12,"column":25}},"5":{"start":{"line":17,"column":2},"end":{"line":17,"column":31}},"6":{"start":{"line":18,"column":2},"end":{"line":18,"column":35}},"7":{"start":{"line":19,"column":2},"end":{"line":19,"column":37}},"8":{"start":{"line":22,"column":2},"end":{"line":22,"column":36}},"9":{"start":{"line":25,"column":2},"end":{"line":25,"column":18}},"10":{"start":{"line":32,"column":0},"end":{"line":49,"column":2}},"11":{"start":{"line":35,"column":2},"end":{"line":40,"column":3}},"12":{"start":{"line":38,"column":4},"end":{"line":38,"column":11}},"13":{"start":{"line":43,"column":2},"end":{"line":47,"column":4}},"14":{"start":{"line":54,"column":0},"end":{"line":71,"column":2}},"15":{"start":{"line":57,"column":2},"end":{"line":62,"column":3}},"16":{"start":{"line":60,"column":4},"end":{"line":60,"column":11}},"17":{"start":{"line":65,"column":2},"end":{"line":69,"column":4}},"18":{"start":{"line":76,"column":0},"end":{"line":98,"column":2}},"19":{"start":{"line":79,"column":2},"end":{"line":93,"column":4}},"20":{"start":{"line":82,"column":4},"end":{"line":82,"column":47}},"21":{"start":{"line":85,"column":4},"end":{"line":85,"column":49}},"22":{"start":{"line":88,"column":4},"end":{"line":88,"column":28}},"23":{"start":{"line":91,"column":4},"end":{"line":91,"column":21}},"24":{"start":{"line":96,"column":2},"end":{"line":96,"column":20}},"25":{"start":{"line":102,"column":0},"end":{"line":105,"column":2}},"26":{"start":{"line":107,"column":0},"end":{"line":110,"column":2}},"27":{"start":{"line":112,"column":0},"end":{"line":115,"column":2}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":19},"end":{"line":6,"column":32}},{"start":{"line":6,"column":36},"end":{"line":6,"column":38}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"3":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]}},"code":["function FixedQueue( size, initialValues ){","","  // If there are no initial arguments, default it to","  // an empty value so we can call the constructor in","  // a uniform way.","  initialValues = (initialValues || []);","","  // Create the fixed queue array value.","  var queue = Array.apply( null, initialValues );","","  // Store the fixed size in the queue.","  queue.fixedSize = size;","","  // Add the class methods to the queue. Some of these have","  // to override the native Array methods in order to make","  // sure the queue lenght is maintained.","  queue.push = FixedQueue.push;","  queue.splice = FixedQueue.splice;","  queue.unshift = FixedQueue.unshift;","","  // Trim any initial excess from the queue.","  FixedQueue.trimTail.call( queue );","","  // Return the new queue.","  return( queue );","","}","","","// I trim the queue down to the appropriate size, removing","// items from the beginning of the internal array.","FixedQueue.trimHead = function(){","","  // Check to see if any trimming needs to be performed.","  if (this.length <= this.fixedSize){","","    // No trimming, return out.","    return;","","  }","","  // Trim whatever is beyond the fixed size.","  Array.prototype.splice.call(","    this,","    0,","    (this.length - this.fixedSize)","  );","","};","","","// I trim the queue down to the appropriate size, removing","// items from the end of the internal array.","FixedQueue.trimTail = function(){","","  // Check to see if any trimming needs to be performed.","  if (this.length <= this.fixedSize){","","    // No trimming, return out.","    return;","","  }","","  // Trim whatever is beyond the fixed size.","  Array.prototype.splice.call(","    this,","    this.fixedSize,","    (this.length - this.fixedSize)","  );","","};","","","// I synthesize wrapper methods that call the native Array","// methods followed by a trimming method.","FixedQueue.wrapMethod = function( methodName, trimMethod ){","","  // Create a wrapper that calls the given method.","  var wrapper = function(){","","    // Get the native Array method.","    var method = Array.prototype[ methodName ];","","    // Call the native method first.","    var result = method.apply( this, arguments );","","    // Trim the queue now that it's been augmented.","    trimMethod.call( this );","","    // Return the original value.","    return( result );","","  };","","  // Return the wrapper method.","  return( wrapper );","","};","","","// Wrap the native methods.","FixedQueue.push = FixedQueue.wrapMethod(","  \"push\",","  FixedQueue.trimHead",");","","FixedQueue.splice = FixedQueue.wrapMethod(","  \"splice\",","  FixedQueue.trimTail",");","","FixedQueue.unshift = FixedQueue.wrapMethod(","  \"unshift\",","  FixedQueue.trimTail",");",""],"l":{"1":1,"6":0,"9":0,"12":0,"17":0,"18":0,"19":0,"22":0,"25":0,"32":1,"35":0,"38":0,"43":0,"54":1,"57":0,"60":0,"65":0,"76":1,"79":3,"82":0,"85":0,"88":0,"91":0,"96":3,"102":1,"107":1,"112":1}},"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/error-callsites/node-0.10-formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-pmx/node_modules/pmx/lib/utils/error-callsites/node-0.10-formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"FormatStackTrace","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":59}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":32,"column":1}},"2":{"start":{"line":6,"column":2},"end":{"line":6,"column":16}},"3":{"start":{"line":7,"column":2},"end":{"line":15,"column":3}},"4":{"start":{"line":8,"column":4},"end":{"line":8,"column":32}},"5":{"start":{"line":10,"column":4},"end":{"line":14,"column":5}},"6":{"start":{"line":11,"column":6},"end":{"line":11,"column":38}},"7":{"start":{"line":13,"column":6},"end":{"line":13,"column":27}},"8":{"start":{"line":16,"column":2},"end":{"line":30,"column":3}},"9":{"start":{"line":17,"column":4},"end":{"line":17,"column":25}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":12}},"11":{"start":{"line":19,"column":4},"end":{"line":28,"column":5}},"12":{"start":{"line":20,"column":6},"end":{"line":20,"column":29}},"13":{"start":{"line":22,"column":6},"end":{"line":27,"column":7}},"14":{"start":{"line":23,"column":8},"end":{"line":23,"column":35}},"15":{"start":{"line":26,"column":8},"end":{"line":26,"column":24}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":32}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":25}}},"branchMap":{},"code":["'use strict'","","// Lifted from Node.js 0.10.40:","// https://github.com/nodejs/node/blob/0439a28d519fb6efe228074b0588a59452fc1677/deps/v8/src/messages.js#L1053-L1080","module.exports = function FormatStackTrace (error, frames) {","  var lines = []","  try {","    lines.push(error.toString())","  } catch (e) {","    try {","      lines.push('<error: ' + e + '>')","    } catch (ee) {","      lines.push('<error>')","    }","  }","  for (var i = 0; i < frames.length; i++) {","    var frame = frames[i]","    var line","    try {","      line = frame.toString()","    } catch (e) {","      try {","        line = '<error: ' + e + '>'","      } catch (ee) {","        // Any code that reaches this point is seriously nasty!","        line = '<error>'","      }","    }","    lines.push('    at ' + line)","  }","  return lines.join('\\n')","}",""],"l":{"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"26":0,"29":0,"31":0}}}